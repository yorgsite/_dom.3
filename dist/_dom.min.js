var _dom;(()=>{"use strict";var t={36:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Cookie=void 0;var n=function(){function t(){}return t.get=function(t){return(document.cookie.match(RegExp("(?:^|;\\s*)"+encodeURI(t)+"=([^;]*)"))||[,null])[1]},t.has=function(t){return null!==this.get(t)},t.delete=function(t,e){void 0===e&&(e="/"),document.cookie=encodeURI(t)+"=;Path="+e+";Domain="+location.hostname+";expires=Thu, 01 Jan 1970;"},t.set=function(t,e,n){new Date;var r=n||{},i=[];if(i.push(encodeURI(t)+"="+e+";"),!r.session){var o=r.expires||new Date(Date.now()+(864e5*(r.expireDays||0)||36e5*(r.expireHours||0)||6e4*(r.expireMinutes||0)||864e5)).toUTCString();i.push("expires="+o+";")}i.push("Path="+(r.path||"/")+";"),r.domain&&i.push("Domain="+r.domain+";"),r.secure&&"https"===location.protocol&&i.push("secure"),document.cookie=i.join("")},t.getAll=function(){var t={};return document.cookie.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(e){var n=e.indexOf("=");t[decodeURI(e.slice(0,n).trim())]=e.slice(n+1)}),t},t}();e.Cookie=n},125:function(t,e){var n,r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.computed=e.effect=e.signal=e.MemberSignal=void 0;var o=new WeakMap,s=function(){function t(t){o.set(this,t)}return t.prototype.destroy=function(){var t=o.get(this);t.alive=!1,t.registries.forEach(function(e){e.effects.delete(t)}),t.registries.clear()},t}(),a=function(t){this.callback=t,this.alive=!0,this.registries=new Set},u=function(t){var e,n;this.equal=null!==(e=null==t?void 0:t.equal)&&void 0!==e?e:function(t,e){return t===e},this.transform=null!==(n=null==t?void 0:t.transform)&&void 0!==n?n:function(t){return t}},c=function(){function t(){var t=this;this.currentEffects=[],this.pendingEffects=new Set,this.pendingEffectsId=0,this.signal=function(e,n){var r=new u(n),i=r.transform(e),o=function(){return t.currentEffects[0]&&(s.effects.add(t.currentEffects[0]),t.currentEffects[0].registries.add(s)),i};o.set=function(n,o){void 0===o&&(o=!1),!o&&r.equal(n,e)||(e=n,i=r.transform(e),s.effects.forEach(function(e){return t.callEffect(e)}))};var s={effects:new Set};return o.registry=s,o},this.effect=function(e){var n=new a(e);return t.currentEffects.unshift(n),e(),t.currentEffects.shift(),new s(n)},this.computed=function(e,n){var o=t.signal(void 0,n),s=function(){return o()};return s.destroy=t.effect(function(){return r(t,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return n=(t=o).set,[4,e()];case 1:return n.apply(t,[r.sent()]),[2]}})})}).destroy,s},this.MemberSignal=function(){var e=t;return function(t,n){var r=new WeakMap,i=function(t){return r.has(t)||r.set(t,e.signal()),r.get(t)};Object.defineProperty(t,n,{get:function(){return i(this)()},set:function(t){i(this).set(t)},enumerable:!0,configurable:!0})}}}return t.prototype.callEffect=function(t){var e=this;this.pendingEffects.add(t),this.pendingEffectsId||(this.pendingEffectsId=requestAnimationFrame(function(){var t=Array.from(e.pendingEffects.values());e.pendingEffects.clear(),e.pendingEffectsId=0,t.filter(function(t){return t.alive}).forEach(function(t){return t.callback()})}))},t}();e.MemberSignal=(n=new c).MemberSignal,e.signal=n.signal,e.effect=n.effect,e.computed=n.computed},138:function(t,e){var n=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.DataList=e.DataListLink=void 0;var r=function(){function t(t,e,n){this._datalist=t,this._container=e,this._renderer=n,this._rid=0,this._data=[],this.dumb=!1,this._changed()}return t.prototype._changed=function(){var t=this;this._rid||(this._rid=requestAnimationFrame(function(){t._rid=0,t.refresh()}))},t.prototype.refresh=function(){var t=this;if(this._datalist&&this._container){var e=this._data,n=this._datalist.data;if(this.dumb)this._container.innerHTML="",n.map(function(e,r){return t._container.appendChild(t._renderer(e,r,n))});else{var r=new Map,i=new Map;e.map(function(t,e){return r.set(e,t)});var o=n.map(function(t){if(i.has(t))return-1;var n=e.findIndex(function(e){return e===t});return n>-1&&(r.delete(n),i.set(t,!0)),n}).map(function(e,r){return e>-1?t._container.childNodes[e]:t._renderer(n[r],r,n)});Array.from(r.keys()).map(function(e){return t._container.childNodes[e]}).map(function(e){return t._container.removeChild(e)}),o.map(function(e){return t._container.appendChild(e)})}this._data=n}},Object.defineProperty(t.prototype,"list",{get:function(){return this._datalist},set:function(t){t!==this._datalist&&(this._datalist&&this._datalist.detach(this),this._datalist=t,this._datalist.attach(this),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){var e=this;this._container!==t&&(this._container&&t?(Array.from(this._container.childNodes).map(function(e){return t.appendChild(e)}),this._container=t):this._container?Array.from(this._container.childNodes).map(function(t){return e._container.removeChild(t)}):t&&this._data.map(function(n,r){return t.appendChild(e._renderer(n,r,e._data))}),this._container=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){return this._renderer},set:function(t){var e=this;this._renderer!==t&&(Array.from(this._container.childNodes).map(function(t){return e._container.removeChild(t)}),this._data.map(function(t,n){return e._container.appendChild(e._renderer(t,n,e._data))}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._datalist.data},set:function(t){this._datalist.data=t},enumerable:!1,configurable:!0}),t}();e.DataListLink=r;var i=function(){function t(t){void 0===t&&(t=[]),this._data=t,this._links=[]}return t.prototype._refreshLinks=function(){this._links.map(function(t){return t._changed()})},Object.defineProperty(t.prototype,"data",{get:function(){return this._data.slice(0)},set:function(t){this._refreshLinks(),this._data=t},enumerable:!1,configurable:!0}),t.prototype.link=function(t,e){var n=this._links.find(function(e){return e.container===t});return n||(n=new r(this,t,e),this._links.push(n),n)},t.prototype.attach=function(t){this._links.find(function(e){return e===t})||(this._links.push(t),t.list=this)},t.prototype.detach=function(t){var e=this._links.findIndex(function(e){return e===t});e>-1&&this._links.splice(e,1)},t.prototype.push=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._refreshLinks(),(t=this._data).push.apply(t,e)},t.prototype.pop=function(){return this._refreshLinks(),this._data.pop()},t.prototype.unshift=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._refreshLinks(),(t=this._data).unshift.apply(t,e)},t.prototype.shift=function(){return this._refreshLinks(),this._data.shift()},t.prototype.splice=function(t,e){for(var r,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return this._refreshLinks(),(r=this._data).splice.apply(r,n([t,e],i,!1))},t.prototype.sort=function(t){return this._refreshLinks(),this._data.sort(t)},t.prototype.reverse=function(){return this._refreshLinks(),this._data.reverse()},t.prototype.map=function(e){return new t(this._data.map(e))},t.prototype.slice=function(e,n){return new t(this._data.slice(e,n))},Object.defineProperty(t.prototype,"length",{get:function(){return this._data.length},enumerable:!1,configurable:!0}),t}();e.DataList=i},156:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0});var o=n(957);i(n(957),e);var s=(new o.DomModule)._dom;e.default=s},194:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomLifeObserver=void 0;var n=function(){function t(t){var e=this;this.target=t,this._ondestroy=function(){},this._onready=function(){},this._ready=!1,this._intree=!1,this._mutationCallback=function(t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if("childList"===i.type){var o=e._intree?i.removedNodes:i.addedNodes;if(o.length){var s=Array.from(o);(s.includes(e.target)||s.some(function(t){return t.contains(e.target)}))&&(e._intree?e._intree=!1:e._intree=!0,e._intree!==e._ready&&(e._ready?requestAnimationFrame(function(){e._intree||e.disconnect()}):(e._ready=!0,e._onready())))}}}},this._observer=new MutationObserver(this._mutationCallback),this.connect()}return Object.defineProperty(t.prototype,"ready",{get:function(){return this._ready},enumerable:!1,configurable:!0}),t.prototype.connect=function(){this.disconnect(),this._observer.observe(document.documentElement,{childList:!0,subtree:!0})},t.prototype.disconnect=function(){!this._intree&&this._ready&&(this._ready=!1,this._ondestroy()),this._observer.disconnect()},t.prototype.onReady=function(t){this._onready=t},t.prototype.onDestroy=function(t){this._ondestroy=t},t}();e.DomLifeObserver=n},222:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EventBuffer=void 0;var n=function(){function t(){this._eventpile=[],this._listening=!1}return Object.defineProperty(t.prototype,"listening",{get:function(){return this._listening},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n){return this._eventpile.push({target:t,type:e,callback:n}),this},t.prototype.start=function(){return this._listening||(this._eventpile.map(function(t){return t.target.addEventListener(t.type,t.callback)}),this._listening=!0),this},t.prototype.stop=function(){return this._listening&&(this._eventpile.map(function(t){return t.target.removeEventListener(t.type,t.callback)}),this._listening=!1),this},t.prototype.clear=function(){return this.stop(),this._eventpile=[],this},t}();e.EventBuffer=n},340:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomModelPrivate=void 0;var o=n(834),s=n(573),a=n(971),u=n(892),c=n(429),l=n(815),h=n(468),f=function(){function t(t,e,n,r){void 0===n&&(n={}),void 0===r&&(r=[]),this.model=t,this._inputs=n,this.children=r,this.domCycleListener=new o.Listener,this.requireLifeObserver=!1,this.modelLifeObserver=null,this.modelAttrObserver=null,this.instanceRef=new WeakRef(e)}return t.prototype.initDom=function(){return r(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return this._dom=document.createElement(this.model.tagName),[4,this.initDomElement()];case 1:return e.sent(),this.model.shadowRules&&this.initDomShadowRules(),this.domCycleListener.flush("build",this),(t=this.instance._domOnAfterInit(this._inputs,this.children))instanceof Promise?[4,t]:[3,3];case 2:e.sent(),e.label=3;case 3:return this.domCycleListener.flush("afterinit",this),this.initDomTriggers(),[2]}})})},t.prototype.initDomElement=function(){return r(this,void 0,void 0,function(){var t,e,n,r,o;return i(this,function(i){switch(i.label){case 0:return(t=this.instance._domOnInit(this._inputs,this.children))instanceof Promise?[4,t]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.domCycleListener.flush("init",this),this.model.className&&(this._dom.className=this.model.className),(e=this.instance._domOnBuild(this._inputs,this.children))instanceof Promise?[4,e]:[3,4];case 3:return r=i.sent(),[3,5];case 4:r=e,i.label=5;case 5:if((n=r)instanceof Array||(n=[n]),!n.every(function(t){return t instanceof HTMLElement||t instanceof l.DomModel||"string"==typeof t}))throw["","_dom model "+this.model.name+" Error :"," - method _domOnBuild must return an HTMLElement or a non empty list of string | HTMLElement | DomModel."].join("\n");return(o=this._dom).append.apply(o,n.map(function(t){return t instanceof l.DomModel?t.dom:t})),[2]}})})},t.prototype.initDomShadowRules=function(){var t=this,e="_dom_"+Math.random().toString(36).slice(2);this._dom.setAttribute(e,"");var n=h.DomModelRegistry.getRulesData(this.model);for(var r in n)n[r+"["+e+"]"]=n[r],delete n[r];var i=s.DomCore.html("style",{type:"text/css"});this._dom.appendChild(i),setTimeout(function(){t._rules=a.DomCss.rules(n,i.sheet),t.model.cssVars&&(t._cssVars=a.DomCss.handleVars(t.model.tagName+"["+e+"]",t.model.cssVars,i.sheet))},1)},t.prototype.initDomTriggers=function(){var t=this;if(this.requireLifeObserver&&this.initLifeObserver(),this.overrided("_domOnReady")&&this.instance._domOn("ready",function(e){return r(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.instance._domOnReady()];case 1:return t.sent(),[2]}})})}),this.overrided("_domOnDestroy")&&this.instance._domOn("destroy",function(e){return r(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.instance._domOnDestroy()];case 1:return t.sent(),[2]}})})}),this.overrided("_domOnAttributeChange")&&this.instance._domOn("attributechange",function(e){return r(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.instance._domOnAttributeChange(e.data.name,e.data.value,e.data.oldValue)];case 1:return t.sent(),[2]}})})}),this._inputs&&this.inputListener)for(var e in this._inputs)this.inputListener.flush(e,{name:e,value:this._inputs[e],oldValue:void 0})},t.prototype.overrided=function(t){return this.instance[t]!==l.DomModel.prototype[t]},t.prototype.initLifeObserver=function(){var t=this;this.modelLifeObserver||(this.modelLifeObserver=new c.DomModelLifeObserver(this.instance),this.modelLifeObserver.onReady(function(){t.domCycleListener.flush("ready",t)}),this.modelLifeObserver.onDestroy(function(){t.domCycleListener.flush("destroy",t)}))},Object.defineProperty(t.prototype,"instance",{get:function(){return this.instanceRef.deref()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dom",{get:function(){return this._dom||this.initDom(),this._dom},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rules",{get:function(){return this.shadowRules?this._rules:h.domModelStaticMap.get(this.model).rules},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssVars",{get:function(){return this.shadowRules?this._cssVars:h.domModelStaticMap.get(this.model).cssVars},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadowRules",{get:function(){return this.model.shadowRules},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){var t=this;return this._inputProxy||(this._inputProxy=new Proxy({},{get:function(e,n){return t._inputs[n]},set:function(e,n,r){return t.setInput(n,r),!0}})),this._inputProxy},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new this.model(this._inputs,this.children)},t.prototype.connect=function(){this.modelLifeObserver.connect()},t.prototype.disconnect=function(){this.modelLifeObserver&&this.modelLifeObserver.disconnect()},t.prototype.setInput=function(t,e){if("object"==typeof this._inputs){var n=this._inputs[t];this._inputs[t]=e,this.inputListener&&this.inputListener.flush(t,{name:t,value:e,oldValue:n})}},t.prototype.onAttributeChange=function(){var t=this;this.modelAttrObserver||(this.modelAttrObserver=new u.DomModelAttrObserver(this.instance),this.modelAttrObserver.onChange(function(e,n,r){t.domCycleListener.flush("attributechange",{name:e,value:n,oldValue:r})}))},t}();e.DomModelPrivate=f},429:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomModelLifeObserver=void 0;var r=n(194),i=function(){function t(t){this.modelInstance=t,this._regz={ready:!1,destroy:!1}}return t.prototype.connect=function(){this._life.connect()},t.prototype.disconnect=function(){this._life.disconnect()},t.prototype.onReady=function(t){var e=this;if(this._regz.destroy)throw["","_dom.model "+this.modelInstance.tagName+" build Error:"," - onReady must be called before onDestroy."].join("\n");this._regz.ready=!0;var n=function(){e._life=e._life||new r.DomLifeObserver(e.modelInstance.dom),e._life.onReady(t)};this.modelInstance.dom?n():requestAnimationFrame(n)},t.prototype.onDestroy=function(t,e){var n=this;void 0===e&&(e=1),this._regz.destroy=!0;var i=function(){n._life=n._life||new r.DomLifeObserver(n.modelInstance.dom),n._life.onDestroy(t)};this.modelInstance.dom?i():requestAnimationFrame(i)},t}();e.DomModelLifeObserver=i},449:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomRouter=void 0;var r=n(957),i=n(834),o=function(){function t(e){void 0===e&&(e="");var n=this;this._basePath=e,this._rqid=0,this._listener=new i.Listener,this._current={path:"",search:"",hash:""},this._currentData={path:"",search:{},hash:{}},this._anim=function(){n._rqid=requestAnimationFrame(n._anim);var e={path:n._currentData.path,search:n._currentData.search,hash:n._currentData.hash},r=!1;if(window.location.pathname!==n._current.path){r=!0;var i=n._currentData.path;n._current.path=window.location.pathname,n._currentData.path=t.getPath(),n._listener.flush("pathchange",{value:n._currentData.path,oldValue:i})}window.location.search!==n._current.search&&(r=!0,i=n._currentData.search,n._current.search=window.location.search,n._currentData.search=t.getSearch(),n._listener.flush("searchchange",{value:n._currentData.search,oldValue:i})),window.location.hash!==n._current.hash&&(r=!0,i=n._currentData.hash,n._current.hash=window.location.hash,n._currentData.hash=t.getHash(),n._listener.flush("hashchange",{value:n._currentData.hash,oldValue:i})),r&&n._listener.flush("change",{value:n._currentData,oldValue:e})}}return Object.defineProperty(t.prototype,"active",{get:function(){return!!this._rqid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._currentData},set:function(e){t.setData(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._currentData.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this._currentData.search},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this._currentData.hash},enumerable:!1,configurable:!0}),t.prototype.start=function(){return this._rqid||(this._rqid=requestAnimationFrame(this._anim)),this},t.prototype.stop=function(){return t._instance===this?(console.warn("DomRouter.instance can't be stopped"),this):(this._rqid&&(cancelAnimationFrame(this._rqid),this._rqid=0),this)},t.prototype.on=function(t,e){return this._listener.on(t,e),this},t.prototype.getOutlet=function(t,e){return void 0===e&&(e=""),new s(this,t,this._basePath+e).dom},t.prototype.link=function(e,n,r){return void 0===r&&(r=!1),t.link(e,this._basePath+n,r)},t.prototype.getLink=function(e,n,r){return void 0===r&&(r=!1),t.getLink(e,this._basePath+n,r)},Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=(new t).start())},enumerable:!1,configurable:!0}),t.link=function(t,e,n){void 0===n&&(n=!1);var r="boolean"==typeof n,i=r?"":this.obj2Hash(n),o=e+(i?"#"+i:"");return t.onclick=function(t){var e=o+(r&&n?window.location.hash:"");return window.history.pushState({uri:e},"",e),!1},t instanceof HTMLAnchorElement&&(t.href=o),t},t.getLink=function(t,e,n){void 0===n&&(n=!1);var r=document.createElement("a");return"string"==typeof t?r.innerHTML=t:r.append(t),this.link(r,e,n)},t.toLink=function(t){return t.onclick=function(e){return window.history.pushState({url:t.href},"",t.href),!1},t},t.getOutlet=function(t,e){return void 0===e&&(e=""),this.instance.getOutlet(t,e)},t.getData=function(){return{path:this.getPath(),search:this.getSearch(),hash:this.getHash()}},t.setData=function(e){var n="path"in e?e.path:window.location.pathname,r="search"in e?t.obj2Hash(e.search):window.location.search,i="hash"in e?t.obj2Hash(e.hash):window.location.hash,o=window.location.protocol+"//"+window.location.host+(n&&"/"!==n.charAt(0)?"/"+n:"")+r+i;window.history.pushState({path:o},"",o)},t.getPath=function(){return window.location.pathname},t.setPath=function(t){var e=window.location.protocol+"//"+window.location.host+(t&&"/"===t.charAt(0)?"":"/")+t+window.location.search+window.location.hash;window.history.pushState({path:e},"",e)},t.getSearch=function(){return this.hash2Obj(window.location.search)},t.setSearch=function(t){window.location.search=this.obj2Hash(t)},t.getHash=function(){return this.hash2Obj(window.location.hash)},t.setHash=function(t){window.location.hash=this.obj2Hash(t)},t.obj2Hash=function(t){return Object.entries(t).map(function(t){var e=t[0],n=t[1];return e+"="+encodeURIComponent(n)}).join("&")},t.hash2Obj=function(t){if(!(t=!t||"#"!==t.charAt(0)&&"?"!==t.charAt(0)?t:t.slice(1)))return{};var e={};return t.split("&").map(function(t){var n=t.indexOf("="),r=n>-1?[t.slice(0,n),decodeURIComponent(t.slice(n+1))]:[t,!0],i=r[0],o=r[1];String(i)in e?(e[String(i)]instanceof Array||(e[String(i)]=[e[String(i)]]),e[String(i)].push(o)):e[String(i)]=o}),e},t}();e.DomRouter=o;var s=function(){function t(t,e,n){void 0===n&&(n="");var r=this;if(this._router=t,this._routes=e,this._basePath=n,this.dom=document.createElement("dom-router-outlet"),!this._routes.find(function(t){return"*"===t.path}))throw["","DomRouterOutlet Error :","routes list is missing the default route {path:'*',...}."].join("\n");t.path&&this._pathChanged(t.path),t.on("pathchange",function(t){return r._pathChanged(t.data.value)})}return t.prototype._pathChanged=function(t){var e=this;if(this._path!==t){this._path=t;var n=this._routes.find(function(n){return e._basePath+n.path===t});if(n||(n=this._routes.find(function(t){return"*"===t.path})),n){if(n.path===n.redirect)throw["","DomRouterOutlet Error :",'Properties path and redirect "'+n.path+'" must be different.'].join("\n");if(n.redirect){if(!this._routes.find(function(t){return t.path===n.redirect}))throw["","DomRouterOutlet Error :",'Bad redirection "'+n.redirect+'" not found.'].join("\n");o.setPath(this._basePath+n.redirect)}else if(n.getDom){this.dom.innerHTML="";var i=n.getDom(this._router),s=i instanceof r.DomModel?i.dom:i;this.dom.append(s)}else n.model&&(this.dom.innerHTML="",s=(new n.model).dom,this.dom.append(s))}}},t}()},468:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.domModelMap=e.domModelStaticMap=e.DomModelRegistry=void 0;var r=n(573),i=n(971),o=n(340),s=function(){function t(t){this.model=t}return t.register=function(t,n,r){void 0===n&&(n={}),void 0===r&&(r=[]);var i=t.constructor;this.registerModel(i),e.domModelMap.set(t,new o.DomModelPrivate(i,t,n,r))},t.get=function(t){return e.domModelStaticMap.get(t.constructor)},t.registerModel=function(n){if(!e.domModelStaticMap.has(n)){var r=new t(n);r.init(),e.domModelStaticMap.set(n,r)}},t.getRulesData=function(t){var e,n="function"==typeof t.rulesData?t.rulesData(t):t.rulesData;return(e={})[t.tagName]=n,e},t.getRules=function(t,e){return i.DomCss.rules(this.getRulesData(t),e)},t.prototype.init=function(){this.initTagName(),this.initRules()},t.prototype.initTagName=function(){this.model.tagName||(this.model.tagName=r.DomCore.objName2tagName(this.model.name).slice(1),this.model.tagName.lastIndexOf("-model")===this.model.tagName.length-6&&(this.model.tagName=this.model.tagName.slice(0,-6)))},t.prototype.initRules=function(){this.rules||(this.rules=t.getRules(this.model,null),this.model.cssVars&&(this.cssVars=i.DomCss.handleVars(this.model.tagName,this.model.cssVars,null)))},t}();e.DomModelRegistry=s,e.domModelStaticMap=new WeakMap,e.domModelMap=new WeakMap},483:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;var n=function(){function t(){this._started=0,this._onUpdate=function(){},this._onStart=function(){},this._onStop=function(){}}var e;return t.addPlayer=function(t){var e=Date.now();this._rqid||(this._rqid=requestAnimationFrame(this._update),this._lastTime=e);var n=e-this._lastTime;t._update(e,n),this._players.push(t)},t.removePlayer=function(t){this._players.splice(this._players.findIndex(function(e){return t}),1),this._players.length||cancelAnimationFrame(this._rqid)},t.tween=function(t,n,r){void 0===r&&(r={}),Date.now();var i=function(t){return t};if("cos"in r)i=function(t){return t<.5?.5-.5*Math.pow(Math.cos(t*Math.PI),r.cos):.5+.5*Math.pow(Math.cos((1-t)*Math.PI),r.cos)};else if("quadratic"in r){var o=[0,r.quadratic,1];i=function(t){return Math.pow(1-t,2)*o[0]+2*(1-t)*t*o[1]+Math.pow(t,2)*o[2]}}else if("cubic"in r){var s=[0,r.cubic[0],r.cubic[1],1];i=function(t){return Math.pow(1-t,3)*s[0]+3*Math.pow(1-t,2)*t*s[1]+3*(1-t)*Math.pow(t,2)*s[2]+Math.pow(t,3)*s[3]}}return new Promise(function(r){(new e).onStop(function(t){return r(t)}).onUpdate(function(e){var r=Math.min(e.elapsed/n,1);t(i(r)),1===r&&e.stop()}).start()})},t.prototype._update=function(t,e){this.date=t,this.ft=e,this.elapsed=t-this._started,this._onUpdate(this)},t.prototype.onUpdate=function(t){return this._onUpdate=t,this},t.prototype.onStart=function(t){return this._onStart=t,this},t.prototype.onStop=function(t){return this._onStop=t,this},t.prototype.start=function(){return this._started||(this._started=Date.now(),e.addPlayer(this),this._onStart(this)),this},t.prototype.stop=function(){return this._started&&(e.removePlayer(this),this._onStop(this),this._started=0),this},e=t,t._players=[],t._rqid=0,t._lastTime=0,t._update=function(){e._rqid=requestAnimationFrame(e._update);var t=Date.now(),n=t-e._lastTime;e._lastTime=t,e._players.forEach(function(e){return e._update(t,n)})},t}();e.Player=n},499:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomStore=e.DomStoreLocalStorageLink=e.DomStoreElement=e.DomStoreLink=void 0;var n=function(){function t(t,e,n,r,i){void 0===i&&(i={});var s=this;if(this.element=t,this.target=e,this.key=n,this.id=r,this.io=i,this.listeners=[],this.io.input||(this.io.input=function(t){return t}),this.io.output||(this.io.output=function(t){return t}),o.booleanable(this.target,this.key))this.listeners.push({type:"change",callback:function(t){s.checkTargetValue()}});else if(o.numberable(this.target,this.key))this.listeners.push({type:"input",callback:function(t){s.checkTargetValue()}});else if(o.textable(this.target,this.key)){var a=e instanceof HTMLSelectElement?"change":"input";this.listeners.push({type:a,callback:function(t){s.checkTargetValue()}})}this.listeners.map(function(t){return e.addEventListener(t.type,t.callback)})}return t.prototype.checkTargetValue=function(){var t=this.io.output(this.getTargetValue());t!==this.value&&(this.value=t,this.element.valueChanged(this.value,this))},t.prototype.getTargetValue=function(){return o.booleanable(this.target,this.key)?this.target.checked:o.numberable(this.target,this.key)?parseFloat(this.target.value):!!o.textable(this.target,this.key)&&this.target.value},t.prototype.setValue=function(t){return o.booleanable(this.target,this.key)?(this.value=!!t,this.target.checked=this.io.input(this.value)):o.numberable(this.target,this.key)?(this.value="number"==typeof t?t:parseFloat(t+""),this.target.value=""+this.io.input(this.value)):o.textable(this.target,this.key)?(this.value=t+"",this.target.value=this.io.input(this.value)):(this.value=t,this.target[this.key]=this.io.input(this.value)),this},t.prototype.destroy=function(){var t=this;this.listeners.map(function(e){return t.target.removeEventListener(e.type,e.callback)}),this.listeners=[]},t}();e.DomStoreLink=n;var r=function(){function t(t,e,n){this.store=t,this.name=e,this.value=n,this.linkz=new Map}return t.prototype.setValue=function(t){this.valueChanged(t)},t.prototype.setLink=function(t,e,r,i){this.removeLink(r),this.linkz.set(r,new n(this,t,e,r,i).setValue(this.value))},t.prototype.removeLink=function(t){this.linkz.has(t)&&(this.linkz.get(t).destroy(),this.linkz.delete(t))},t.prototype.valueChanged=function(t,e){var n=this;if(this.value!==t){var r=this.value;this.value=t,Array.from(this.linkz.values()).filter(function(t){return t!==e}).map(function(t){return t.setValue(n.value)}),this.store.watchers.has(this.name)&&this.store.watchers.get(this.name).map(function(t){return t("change",n.value,r)}),Array.from(this.store._localStorages.values()).forEach(function(e){return e.set(n.name,t)})}},t.prototype.destroy=function(){Array.from(this.linkz.values()).map(function(t){return t.destroy()}),this.linkz=new Map},t.fromLink=function(e,r,i,o,s,a){var u=new t(e,r,!1),c=new n(u,i,o,s,a);return u.linkz.set(s,c),c.checkTargetValue(),u},t}();e.DomStoreElement=r;var i=function(){function t(t,e){var n=this;this._store=t,this._prefix=e,this.entries.forEach(function(t){var e=t[0],r=t[1];n._store.set(e,r)}),window.addEventListener("storage",function(t){if(t.storageArea===localStorage&&0===t.key.indexOf(n.prefix)){var e=t.key.slice(n.prefix.length);null===t.newValue?n._store.delete(e):n._store.set(e,JSON.parse(t.newValue))}})}return Object.defineProperty(t.prototype,"prefix",{get:function(){return t._postPrefix+this._prefix},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"entries",{get:function(){var t=this;return Object.entries(localStorage).filter(function(e){return 0===e[0].indexOf(t.prefix)}).map(function(e){var n=e[0],r=e[1];return[n.slice(t.prefix.length),JSON.parse(r)]})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"object",{get:function(){var t={};return this.entries.forEach(function(e){var n=e[0],r=e[1];return t[n]=r}),t},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=localStorage.getItem(this.prefix+t);return null===e?e:JSON.parse(e)},t.prototype.set=function(t,e){return localStorage.setItem(this.prefix+t,JSON.stringify(e))},t._postPrefix="-DomStoreLocalStorageLink-",t}();e.DomStoreLocalStorageLink=i;var o=function(){function t(){this.elements=new Map,this.watchers=new Map,this._localStorages=new Map}return Object.defineProperty(t.prototype,"values",{get:function(){var t=this;return this._proxy||(this._proxy=new Proxy({},{get:function(e,n){return t.get(n)},set:function(e,n,r){return t.set(n,r),!0}}))},enumerable:!1,configurable:!0}),t.prototype.set=function(t,e){this.elements.has(t)?this.elements.get(t).setValue(e):this.elements.set(t,new r(this,t,e))},t.prototype.get=function(t){return this.elements.has(t)?this.elements.get(t).value:""},t.prototype.link=function(t,e,n,i,o){void 0===i&&(i=e),void 0===o&&(o={}),i||(i=e),this.elements.has(t)?this.elements.get(t).setLink(e,n,i,o):this.elements.set(t,r.fromLink(this,t,e,n,i,o))},t.prototype.unlink=function(t,e){this.elements.has(t)&&this.elements.get(t).removeLink(e)},t.prototype.watch=function(t,e){this.watchers.has(t)||this.watchers.set(t,[]),this.watchers.get(t).push(e)},t.prototype.unwatch=function(t,e){if(this.watchers.has(t))if(e){var n=this.watchers.get(t),r=n.findIndex(function(t){return t===e});r>-1&&(n.splice(r,1),n.length||this.watchers.delete(t))}else this.watchers.delete(t)},t.prototype.linkLocalStorage=function(t){this._localStorages.has(t)||this._localStorages.set(t,new i(this,t))},t.prototype.delete=function(t,e){void 0===e&&(e=!1),this.elements.has(t)&&(this.elements.get(t).destroy(),this.elements.delete(t)),!e&&this.watchers.has(t)&&this.watchers.delete(t)},t.prototype.destroy=function(){Array.from(this.elements.values()).map(function(t){return t.destroy()}),this.elements=new Map,this.watchers=new Map},t.prototype.toData=function(){var t=this,e={};return Array.from(this.elements.keys()).map(function(n){return e[n]=t.elements.get(n).value}),e},t.prototype.fromData=function(t){var e=this;return Object.entries(t).map(function(t){var n=t[0],r=t[1];return e.set(n,r)}),this},t.textable=function(t,e){return("value"===e||!e)&&(t instanceof HTMLInputElement||t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement)},t.numberable=function(t,e){return("value"===e||!e)&&t instanceof HTMLInputElement&&"number"===t.type},t.booleanable=function(t,e){return("checked"===e||!e)&&t instanceof HTMLInputElement&&"checkbox"===t.type},t}();e.DomStore=o},573:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomCore=void 0;var r=n(947),i=n(815),o=function(){function t(){}return Object.defineProperty(t,"uid",{get:function(){var t=Date.now();return t===this._uidDate?this._uidCnt++:(this._uidCnt=0,this._uidDate=t),this._uidDate.toString(36)+"-"+this._uidCnt},enumerable:!1,configurable:!0}),t.html=function(t,e,n,r){var o=r?document.createElementNS(r,t):document.createElement(t);return e&&this.parseProps(o,e),n&&o.append.apply(o,n.map(function(t){return t instanceof i.DomModel?t.dom:t})),o},t.parseProps=function(t,e){var n=this;Object.entries(e).map(function(e){var r=e[0],i=e[1];"object"==typeof i?n.parseProps(t[r],i):t[r]=i})},t.render=function(e,n,r,i,o){if(void 0===i&&(i=[]),null==e?void 0:e.hasModel(n+"")){var s=new(e.getModel(n+""))(r,i);return s._module=e,s.dom}return t.html(n+"",r,i,o)},t.objName2tagName=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},t.tagName2objName=function(t){return t.replace(/\-([a-z])/g,function(t,e){return e.toUpperCase()})},t._uidDate=0,t._uidCnt=0,t.libraries=new r.DomLibraries,t}();e.DomCore=o},657:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.LoadMediaProgress=void 0;var r=n(573),i=function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.url=t,this.loaded=e,this.total=n,this.percent=r};e.LoadMediaProgress=i;var o={scrollBarWidth:-1},s=function(){function t(){}return t.loadMediaUri=function(t,e){void 0===e&&(e=function(){});var n=new i(t);return new Promise(function(r,i){var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="arraybuffer",o.onload=function(t){var e=new Blob([this.response]);r(window.URL.createObjectURL(e))},o.onprogress=function(t){n.loaded=t.loaded,n.total=t.total,n.percent=t.loaded/t.total,e(n)},o.onloadstart=function(){},o.onerror=function(t){i(t)},o.send()})},t.loadImage=function(t,e){var n=this;return void 0===e&&(e=function(){}),new Promise(function(i,o){n.loadMediaUri(t,e).then(function(t){r.DomCore.html("img",{src:t,onload:function(t){return i(t.target)},onerror:function(t){return o(t)}})}).catch(function(t){return o(t)})})},t.img2canvas=function(t){var e,n=r.DomCore.html("canvas",{width:t.width,height:t.height});return null===(e=n.getContext("2d"))||void 0===e||e.drawImage(t,0,0),n},t.loadCanvas=function(e){return new Promise(function(n,r){t.loadImage(e).then(function(e){return n(t.img2canvas(e))}).catch(r)})},t.download=function(e,n){var i=this,o="";if(n instanceof HTMLImageElement){if(!n.complete)return void n.addEventListener("load",function(){return i.download(e,n)});o=t.img2canvas(n).toDataURL()}else"string"!=typeof n&&"toDataURL"in n?o=n.toDataURL():n instanceof File||n instanceof Blob?o=URL.createObjectURL(n):"string"==typeof n&&(o=URL.createObjectURL(new Blob([n],{type:"text/plain"})));if(o){var s=r.DomCore.html("a",{style:{display:"none"},href:o,download:e});document.body.appendChild(s),s.click(),document.body.removeChild(s)}},t.downloadFile=function(e){t.download(e.name,e)},t.getParentPile=function(t,e,n){void 0===n&&(n=10);var r=[];if(t instanceof HTMLElement||r.push('arg[0] "dom" is not an HTMLElement.'),"function"!=typeof e&&r.push('arg[1] "condition" is not a function.'),("number"!=typeof n||n<2)&&r.push('arg[2] "maxDeep" is not a number with a value > 1 ."'),r.length)throw console.error("----------_dom.getParentPile Error"),console.log("arguments=",arguments),"\n_dom.getParentPile Error:\n"+r.map(function(t){return"\t- "+t}).join("\n");for(var i=[],o=0;o<n&&t.parentNode;o++){if(o>0&&(i.unshift(t),e(t)))return i;if(!(t.parentNode instanceof HTMLElement))break;t=t.parentNode}return null},t.findParent=function(t,e,n){void 0===n&&(n=10);var r=this.getParentPile(t,e,n);return r&&r[0]||null},t.getAttributes=function(t){for(var e={},n=0,r=t.attributes,i=r.length;n<i;n++){var o=r[n].nodeName,s=r[n].nodeValue;if(["false","off"].includes(s))s=!1;else if(["true","on"].includes(s))s=!0;else try{s=JSON.parse(s)}catch(t){}e[o]=s}return e},t.getScrollBarWidth=function(t){if(void 0===t&&(t=!1),!t&&-1!==o.scrollBarWidth)return o.scrollBarWidth;var e=document.createElement("div");e.style.cssText="overflow:scroll; visibility:hidden; position:absolute;",document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return e.remove(),document.documentElement.style.setProperty("--scrollbar-width",n+"px"),o.scrollBarWidth=n},t}();e.DomUtils=s},689:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomAttributesObserver=void 0;var n=function(){function t(t){var e=this;this.target=t,this._attrBuffer=new Map,this._onchange=function(){},this._mutationCallback=function(t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if("attributes"===i.type){var o=i.attributeName,s=e._attrBuffer.get(o),a=i.target.getAttribute(o);e._attrBuffer.set(o,a),e._onchange(o,a,s)}}},this._observer=new MutationObserver(this._mutationCallback),this.connect()}return t.prototype.connect=function(){this.disconnect(),this._observer.observe(this.target,{attributes:!0})},t.prototype.disconnect=function(){this._observer.disconnect()},t.prototype.onChange=function(t){this._onchange=t},t}();e.DomAttributesObserver=n},784:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Classes=void 0;var n=function(){function t(){}return t.getPile=function(t){for(var e,n,r=t.prototype?t:t.constructor,i=[r],o=void 0;(o=null===(n=null===(e=null==r?void 0:r.prototype)||void 0===e?void 0:e.__proto__)||void 0===n?void 0:n.constructor)&&o!==r;)i.push(r=o);return i},t.getNamePile=function(t){return this.getPile(t).map(function(t){return t.name})},t.inherit=function(t,e){var n,r,i=t.prototype?t:t.constructor;if(i===e)return!0;for(var o=void 0;(o=null===(r=null===(n=null==i?void 0:i.prototype)||void 0===n?void 0:n.__proto__)||void 0===r?void 0:r.constructor)&&o!==i;)if((i=o)===e)return!0;return!1},t}();e.Classes=n},815:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomModel=void 0;var r=n(834),i=n(468),o=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=[]),i.DomModelRegistry.register(this,t,e)}return Object.defineProperty(t.prototype,"dom",{get:function(){return i.domModelMap.get(this).dom},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.constructor.tagName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rules",{get:function(){return i.domModelMap.get(this).rules},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssVars",{get:function(){return i.domModelMap.get(this).cssVars},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadowRules",{get:function(){return i.domModelMap.get(this).shadowRules},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){return i.domModelMap.get(this).inputs},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return i.domModelMap.get(this).clone()},t.prototype.connect=function(){i.domModelMap.get(this).connect()},t.prototype.disconnect=function(){i.domModelMap.get(this).disconnect()},t.prototype.setInput=function(t,e){i.domModelMap.get(this).setInput(t,e)},t.prototype.onInput=function(t,e){var n=i.domModelMap.get(this);n.inputListener||(n.inputListener=new r.Listener,this._domOn("attributechange",function(e){n.inputListener.flush(t,e.data)})),n.inputListener.on(t,e)},t.prototype._domOn=function(t,e){var n=i.domModelMap.get(this);["ready","destroy"].includes(t)?n.requireLifeObserver=!0:(t="attributechange")&&n.onAttributeChange(),n.domCycleListener.on(t,e)},t.prototype._domOnceBuilt=function(t){this.dom?t():i.domModelMap.get(this).domCycleListener.once("afterinit",t)},t.prototype._domOnInit=function(t,e){void 0===e&&(e=[])},t.prototype._domOnAfterInit=function(t,e){void 0===e&&(e=[])},t.prototype._domOnAttributeChange=function(t,e,n){},t.prototype._domOnReady=function(){},t.prototype._domOnDestroy=function(){},t.prototype._domOnBuild=function(t,e){void 0===e&&(e=[])},t.shadowRules=!1,t.rulesData={},t}();e.DomModel=o},834:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Listener=e.ListenerCallback=e.ListenerEvent=void 0;var n=function(){function t(t,e,n){this.type=t,this.data=e,this.target=n,this._stopped=!1}return Object.defineProperty(t.prototype,"stopped",{get:function(){return this._stopped},enumerable:!1,configurable:!0}),t.prototype.stop=function(){this._stopped=!0},t}();e.ListenerEvent=n;var r=function(t,e,n){this.type=t,this.callback=e,this.once=n};e.ListenerCallback=r;var i=function(){function t(t){this._target=t,this._callbacks=new Map}return t.prototype._on=function(t,e,n,i,o){var s=this;return void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===o&&(o=!1),t instanceof Array?t.map(function(t){return s._on(t,e,n,i)}):o?this._callbacks.set(t,[new r(t,e,n)]):(this._callbacks.has(t)||this._callbacks.set(t,[]),this._callbacks.get(t)[i?"unshift":"push"](new r(t,e,n))),this},t.prototype.has=function(t){return this._callbacks.has(t)},t.prototype.on=function(t,e,n){return void 0===n&&(n=!1),this._on(t,e,!1,n)},t.prototype.once=function(t,e,n){return void 0===n&&(n=!1),this._on(t,e,!0,n)},t.prototype.off=function(t,e){var n=this;if(t instanceof Array)t.map(function(t){return n.off(t,e)});else if(this._callbacks.has(t)){var r=this._callbacks.get(t),i=r.findIndex(function(t){return t.callback===e});i>-1&&(r.splice(i,1),r.length||this._callbacks.delete(t))}return this},t.prototype.flush=function(t,e,r){var i=[];if(this._callbacks.has(t)){var o=new n(t,e,r||this._target),s=this._callbacks.get(t),a=[];this._callbacks.set(t,a);for(var u=0;u<s.length;u++)if(i.push(s[u].callback(o)),s[u].once||a.push(s[u]),o.stopped){a.push.apply(a,s.slice(u+1));break}}return i},t.prototype.clear=function(t){var e=this;t instanceof Array?t.map(function(t){return e.clear(t)}):t?this._callbacks.has(t)&&this._callbacks.delete(t):Array.from(this._callbacks.keys()).map(function(t){return e._callbacks.delete(t)})},t}();e.Listener=i},879:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},892:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomModelAttrObserver=void 0;var r=n(689),i=function(){function t(t){this.modelInstance=t,this._attrObserver=null}return t.prototype.onChange=function(t){var e=this,n=function(){e._attrObserver=e._attrObserver||new r.DomAttributesObserver(e.modelInstance.dom),e._attrObserver.onChange(t)};this.modelInstance.dom?n():requestAnimationFrame(n)},t}();e.DomModelAttrObserver=i},903:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DomBaseModule=void 0;var o=n(573),s=n(499),a=n(815),u=n(468),c=function(t,e){void 0===e&&(e=!1),this.data=t,this.isPrivate=e},l=function(){function t(){this.id=o.DomCore.uid,this.models=new Map,this._modules=[]}return Object.defineProperty(t.prototype,"store",{get:function(){return this._store||(this._store=new s.DomStore)},enumerable:!1,configurable:!0}),t.prototype.import=function(t,e){var n=this;if(void 0===e&&(e=!1),t instanceof Array)t.map(function(t){return n.import(t,e)});else if(a.DomModel.isPrototypeOf(t)){var r=t;u.DomModelRegistry.registerModel(r),this.models.set(r.tagName,new c(r,e))}else this._modules.find(function(e){return e.data===t})||this._modules.push(new c(t,e))},t.prototype.addModel=function(t,e,n,r){if(void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===r&&(r=!1),"string"==typeof t){var o=function(r){function o(t,e){return void 0===e&&(e=[]),r.call(this,t,e)||this}return i(o,r),o.prototype._domOnBuild=function(n,r){return e.apply(this,[t,n,r])},o.tagName=t,o.rulesData=n||{},o}(a.DomModel);this.models.set(t,new c(o,r))}},t.prototype.hasOwnModel=function(t,e){return void 0===e&&(e=!1),this.models.has(t)&&(!e||!this.models.get(t).isPrivate)},t.prototype.hasModel=function(t,e){return void 0===e&&(e=!1),this.hasOwnModel(t,e)||!!this._modules.find(function(e){return e.data.hasModel(t,!0)})},t.prototype.getModel=function(t,e){if(void 0===e&&(e=!1),this.hasOwnModel(t,e))return this.models.get(t).data;for(var n=0,r=this._modules;n<r.length;n++){var i=r[n];if(!i.isPrivate){var o=i.data.getModel(t,!0);if(o)return o}}},t}();e.DomBaseModule=l},920:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomLangRegIO=e.DomLangText=e.DomLangReg=e.DomLang=void 0;var n=function(){function t(){this._map=new Map,this._registered=[],this._buffer=new Map}return t.prototype._changeLang=function(){this._registered.forEach(function(t){return t.changeLang()})},Object.defineProperty(t.prototype,"lang",{get:function(){return this._lang},set:function(t){t!==this._lang&&this._map.has(t)&&(this._buffer=new Map,this._lang=t,this._changeLang())},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){this._map.set(t,e),this._lang?this.lang===t&&this._changeLang():this.lang=t},t.prototype.load=function(t,e){var n=this;return new Promise(function(r,i){fetch(e).then(function(t){return t.json()}).then(function(e){n.add(t,e),r(e)})})},t.prototype.getText=function(t,e){var n="";if(this._buffer.has(t))n=this._buffer.get(t);else{if(!this._map.has(this._lang))return"";n=this._map.get(this._lang),t.split(".").some(function(t){if(!n.hasOwnProperty(t))return n="",!0;n=n[t]}),this._buffer.set(t,n)}return e&&Object.entries(e).forEach(function(t){var e=t[0],r=t[1];return n=n.split("{{"+e+"}}").join(r)}),n},t.prototype.register=function(t){var e=new r(this);return this._registered.push(e),t&&t.on&&t.on("destroy",function(){return e.destroy()}),e.io},t.prototype.destroy=function(t){var e=this._registered.findIndex(function(e){return e===t});e>-1&&this._registered.splice(e,1)},t}();e.DomLang=n;var r=function(){function t(t){this._root=t,this.io=new o(this),this.nodes=[]}return t.prototype.changeLang=function(){this.nodes.forEach(function(t){return t.change()})},t.prototype.getText=function(t,e){return this._root.getText(t,e)},t.prototype.getLangText=function(t,e,n,r){var o=new i(this,t,e,n,r);return this.nodes.push(o),o},t.prototype.getTextNode=function(t,e){var n=document.createTextNode(this._root.getText(t,e));return this.getLangText(t,e||{},function(t,e){return e.nodeValue=t},n)},t.prototype.getTextLink=function(t,e,n,r){return this.getLangText(t,e||{},function(t,e){return e[r]=t},n).change()},t.prototype.getTextWatch=function(t,e,n){var r=this.getLangText(t,e||{},function(t,e){if(t!==e){var i=e;r.target=t,n(r.target,i)}},null).change();return r},t.prototype.destroyText=function(t){var e=this.nodes.findIndex(function(e){return e===t});e>-1&&this.nodes.splice(e,1)},t.prototype.destroy=function(){this._root.destroy(this)},t}();e.DomLangReg=r;var i=function(){function t(t,e,n,r,i){this._reg=t,this.key=e,this.params=n,this.changeCB=r,this.target=i,this._rid=0}return Object.defineProperty(t.prototype,"text",{get:function(){return this._reg.getText(this.key,this.params)},enumerable:!1,configurable:!0}),t.prototype.setKey=function(t){this.key=t,this.change()},t.prototype.setParams=function(t){this.params=t,this.change()},t.prototype.change=function(){var t=this;return this._rid||(this._rid=requestAnimationFrame(function(){t._rid=0,t.changeCB(t.text,t.target)})),this},t.prototype.destroy=function(){this._reg.destroyText(this)},t}();e.DomLangText=i;var o=function(){function t(t){this._reg=t}return t.prototype.getText=function(t,e){return this._reg.getText(t,e)},t.prototype.getTextNode=function(t,e){return this._reg.getTextNode(t,e)},t.prototype.getTextLink=function(t,e,n,r){return this._reg.getTextLink(t,e,n,r)},t.prototype.getTextWatch=function(t,e,n){return this._reg.getTextWatch(t,e,n)},t.prototype.destroy=function(){this._reg.destroy()},t}();e.DomLangRegIO=o},947:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomLibrary=e.DomLibraries=void 0;e.DomLibraries=function(){};e.DomLibrary=function(t,e){}},957:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),s=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||o(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomModule=void 0;var a=n(957),u=n(903),c=n(573),l=n(971),h=n(657),f=n(815),d=n(36);s(n(573),e),s(n(971),e),s(n(125),e),s(n(657),e),s(n(815),e),s(n(689),e),s(n(194),e),s(n(879),e),s(n(784),e),s(n(138),e),s(n(920),e),s(n(449),e),s(n(499),e),s(n(222),e),s(n(834),e),s(n(483),e);var p=function(t){function e(){return t.call(this)||this}return i(e,t),Object.defineProperty(e.prototype,"_dom",{get:function(){return m(this)},enumerable:!1,configurable:!0}),e}(u.DomBaseModule);e.DomModule=p;var m=function(t){var e=function(e,n,r,i){return void 0===r&&(r=[]),c.DomCore.render(t,e,n,r,i)};return Object.defineProperty(e,"uid",{get:function(){return c.DomCore.uid}}),Object.defineProperty(e,"sheet",{get:function(){return l.DomCss.sheet}}),Object.defineProperty(e,"module",{get:function(){return t}}),Object.defineProperty(e,"store",{get:function(){return t.store}}),Object.defineProperty(e,"cookie",{get:function(){return d.Cookie}}),e.parseProps=function(t,e){return c.DomCore.parseProps(t,e)},e.import=function(n,r){void 0===r&&(r=!1),n instanceof Array?n.map(function(t){return e.import(t,r)}):a.Classes.inherit(n,f.DomModel)?t.import(n,r):t.import(n.module,r)},e.model=function(e,n,r,i){void 0===r&&(r=void 0),void 0===i&&(i=!1),t.addModel(e,n,r,i)},e.attr=function(t,e){c.DomCore.parseProps(t,e)},e.fonts=function(t,e){return l.DomCss.fonts(t,e)},e.rule=function(t,e,n){return l.DomCss.rule(t,e,n)},e.rules=function(t,e,n){return void 0===n&&(n=""),l.DomCss.rules(t,e,n)},e.getAttributes=function(t){return h.DomUtils.getAttributes(t)},e.loadMediaUri=function(t,e){return void 0===e&&(e=function(){}),h.DomUtils.loadMediaUri(t,e)},e.loadImage=function(t,e){return void 0===e&&(e=function(){}),h.DomUtils.loadImage(t,e)},e.img2canvas=function(t){return h.DomUtils.img2canvas(t)},e.loadCanvas=function(t){return h.DomUtils.loadCanvas(t)},e.getParentPile=function(t,e,n){return void 0===n&&(n=10),h.DomUtils.getParentPile(t,e,n)},e.findParent=function(t,e,n){return void 0===n&&(n=10),h.DomUtils.findParent(t,e,n)},e.download=function(t,e){h.DomUtils.download(t,e)},e.downloadFile=function(t){h.DomUtils.downloadFile(t)},e.higherZindex=function(t){return void 0===t&&(t=document.body),l.DomCss.higherZindex(t)},e.handleCssVars=function(t,e,n){return l.DomCss.handleVars(t,e,n)},e};e.default=m},971:function(t,e,n){var r=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.DomCss=e.CssVars=void 0;var i=n(573),o=function(){function t(t,e,n){void 0===t&&(t=":root"),void 0===e&&(e=!1);var r=this;this.root=t,this.camelised=e,this.keys=function(){for(var t=[],e=0;e<r.rule.style.length;e++)t.push(r.rule.style.item(e));return t=t.filter(function(t){return"--"===t.slice(0,2)}).map(function(t){return t.slice(2)}),r.camelised?t.map(function(t){return r.camelise(t)}):t},this.entries=function(){return r.keys().map(function(t){return[t,r.get(t)]})},this.getVars=function(){return Object.fromEntries(r.entries())},this.setVars=function(t,e){void 0===e&&(e=!1),Object.entries(t).filter(function(t){var n=t[0];return t[1],!e||!r.has(n)}).forEach(function(t){var e=t[0],n=t[1];return r.set(e,n)})};var i=s.findRule(t,n);if(!i){var o=s.sheet,a=o.cssRules.length;o.insertRule(t+"{\n\n}",a),i=o.cssRules[o.cssRules.length-1]}this.rule=i}return Object.defineProperty(t.prototype,"proxy",{get:function(){var t=this;return this._proxy||(this._proxy=new Proxy({},{get:function(e,n){switch(n){case"getVars":return t.getVars;case"setVars":return t.setVars;default:return t.get(n)}},set:function(e,n,r){return t.set(n,r),!0}})),this._proxy},enumerable:!1,configurable:!0}),t.prototype.uncamelise=function(t){return t.replace(/[-]+([\w])/g,function(t){return t.toUpperCase()})},t.prototype.camelise=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})},t.prototype.has=function(t){return!!this.get(t)},t.prototype.get=function(t){return this.camelised&&(t=this.uncamelise(t)),this.rule.style.getPropertyValue("--"+t)},t.prototype.set=function(t,e){this.camelised&&(t=this.uncamelise(t)),this.rule.style.setProperty("--"+t,e)},t}();e.CssVars=o;var s=function(){function t(){}return Object.defineProperty(t,"sheet",{get:function(){return 0==document.styleSheets.length&&document.documentElement.appendChild(document.createElement("style")),document.styleSheets[document.styleSheets.length-1]},enumerable:!1,configurable:!0}),t.defaultCss=function(t,e){var n,r;if(void 0===e&&(e=!1),t instanceof HTMLElement&&(n=t,t=t.tagName),t=t.toLowerCase(),e||n||!this.defaultCssRef.has(t)){var i=void 0,o=document.documentElement;try{i=document.createElement(t),o.appendChild(i);var s=window.getComputedStyle(i);r=new Map,Object.keys(s).map(function(t){return s[t+""]}).filter(function(t){return"-"!==t.charAt(0)&&""!==s[t]}).forEach(function(t){return r.set(t,s[t])}),n||this.defaultCssRef.set(t,r),o.removeChild(i)}catch(t){throw i&&i.parentNode&&o.removeChild(i),"\n_dom.properties Error:\n"+t}}else r=this.defaultCssRef.get(t);return r},t.fonts=function(t,e){e instanceof CSSStyleSheet||(e=this.sheet);var n={};return Object.keys(t).forEach(function(r){var i="string"==typeof t[r]?{src:"url('"+t[r]+"')"}:t[r]instanceof Array?{src:t[r].map(function(t){return"url('"+t+"')"}).join(",")}:t[r],o=Object.entries(i).concat([["fontFamily",r]]).map(function(t){var e=t[0],n=t[1];return e.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})+": "+n+";"}).join("");e.insertRule("@font-face{\n"+o+"\n}",e.cssRules.length),n[r]=e.cssRules[e.cssRules.length-1]}),n},t.rule=function(e,n,r,i,o){if("string"!=typeof e||!e.length)throw console.error("----------_dom.rule Error"),console.log("selector=",e),"\n_dom.rule Error:\nselector is not a valid css query.";var s;if(r instanceof CSSStyleSheet||(r=this.sheet),t.flatSelectors.includes(e)){"@font-face"===e&&console.warn("_dom.rule is depracated for the selector '@font-face' use _dom.fonts instead.");var a=Object.keys(n).map(function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})+": "+n[t]+";"}).join("");r.insertRule(e+"{\n"+a+"\n}",r.cssRules.length),s=r.cssRules[r.cssRules.length-1]}else if(r.insertRule(e+"{\n\n}",r.cssRules.length),s=r.cssRules[r.cssRules.length-1],n){var u=function(t,e){for(var n in t){if("object"==typeof t[n]){var r=s;r instanceof CSSKeyframesRule?r.appendRule(n+"{\n\n}"):r.insertRule(n+"{\n\n}",r.cssRules.length),u(t[n],r.cssRules[s.cssRules.length-1])}else e.style[n]=t[n];i&&n in o&&(i[o[n]]=i[n])}};u(n,s)}return s},t.rules=function(t,e,n){var r;void 0===n&&(n="");var o="";n&&((r={})["."+(o=n+"-"+i.DomCore.uid)]=t,t=r);var s={},a=this.getRulesData(t);for(var u in e instanceof CSSStyleSheet||(e=this.sheet),a.rules){try{s[u]=this.rule(u,a.rules[u],e,s,a.alias)}catch(t){console.warn('_dom.rules Warning:\nInsertion of rule "'+u+'" failed!\n\n'+t)}u in a.alias&&(s[a.alias[u]]=s[u])}return o?{className:o,rules:s}:s},t.rulesText=function(t){var e=this.getRulesData(t),n=[];for(var o in e.rules){var s=[],a=e.rules[o];for(var u in a)s.push("\t"+i.DomCore.objName2tagName(u)+" : "+a[u]+";");n.push(r(r([o+"{"],s,!0),["}"],!1).join("\n"))}return n},t.handleVars=function(t,e,n){var r=new o(t,!1,n);return e&&r.setVars(e,!0),r.proxy},t.findRule=function(t,e){var n=this.findRules(t,e);return n.length?n[n.length-1]:null},t.findRules=function(t,e){return(e?[e]:Array.from(document.styleSheets)).flatMap(function(e){return Array.from(e.cssRules).filter(function(e){return e.selectorText===t})})},t.getRulesData=function(e){var n={rules:{},alias:{}},r=function(e,i,o,s){var a,u={};o.length&&(a=o.join(""));var c=function(c){var l=c.charAt(0);if("$"===l){var h=c.replace(/([$])/,"\\$1")+"(?![\\w-])";i[h]=e[c]}else if(t.flatSelectors.includes(c))n.rules[c]=e[c];else if("@"===l){var f={rules:{},alias:{}};r(e[c],Object.assign({},i),[],f),s.rules[c]=f.rules}else if("object"==typeof e[c])("&"===l?c.slice(1):!o.length||[">",":"].includes(l)?c:" "+c).split(",").forEach(function(t){r(e[c],Object.assign({},i),o.concat([t]),s||n)});else if("alias"===c)n.alias[a]=e[c];else{var d=e[c]+"";Object.keys(i).forEach(function(t){d=d.replace(new RegExp(t),i[t])}),u[c]=d}};for(var l in e)c(l);a?s.rules[a]?Object.assign(n.rules[a],u):s.rules[a]=u:Object.keys(u).length&&Object.assign(n.rules,u)};return r(e,{},[],n),n},t.getValue=function(t,e){return 1==t.nodeType?(e=i.DomCore.tagName2objName(e),t.style[e]||document.defaultView.getComputedStyle(t,"").getPropertyValue(e)):""},t.higherZindex=function(t){void 0===t&&(t=document.body);for(var e=0,n=0;n<t.childNodes.length&&e<1/0;n++)e=Math.max(e,parseInt(this.getValue(t.childNodes[n],"z-index"))||0);return e},t.defaultCssRef=new Map,t.flatSelectors=["@font-face"],t}();e.DomCss=s}},e={},n=function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}(156);_dom=n})();
(function(){var __dom = _dom.default;Object.keys(_dom).filter(k => k !== "default").forEach(k => {__dom[k] = _dom[k];});_dom = __dom;})();