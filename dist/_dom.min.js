var _dom;(()=>{"use strict";var t={957:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),s=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomModule=void 0;var a=n(957),u=n(903),c=n(573),l=n(971),h=n(657),f=n(815),d=n(36);s(n(573),e),s(n(971),e),s(n(657),e),s(n(815),e),s(n(689),e),s(n(194),e),s(n(879),e),s(n(784),e),s(n(138),e),s(n(920),e),s(n(449),e),s(n(499),e),s(n(222),e),s(n(834),e),s(n(483),e);var p=function(t){function e(){return t.call(this)||this}return o(e,t),Object.defineProperty(e.prototype,"_dom",{get:function(){return m(this)},enumerable:!1,configurable:!0}),e}(u.DomBaseModule);e.DomModule=p;var m=function(t){var e=function(e,n,r,o){return void 0===r&&(r=[]),c.DomCore.render(t,e,n,r,o)};return Object.defineProperty(e,"uid",{get:function(){return c.DomCore.uid}}),Object.defineProperty(e,"sheet",{get:function(){return l.DomCss.sheet}}),Object.defineProperty(e,"module",{get:function(){return t}}),Object.defineProperty(e,"store",{get:function(){return t.store}}),Object.defineProperty(e,"cookie",{get:function(){return d.Cookie}}),e.parseProps=function(t,e){return c.DomCore.parseProps(t,e)},e.import=function(n,r){void 0===r&&(r=!1),n instanceof Array?n.map((function(t){return e.import(t,r)})):a.Classes.inherit(n,f.DomModel)?t.import(n,r):t.import(n.module,r)},e.model=function(e,n,r,o){void 0===r&&(r=void 0),void 0===o&&(o=!1),t.addModel(e,n,r,o)},e.attr=function(t,e){c.DomCore.parseProps(t,e)},e.fonts=function(t,e){return l.DomCss.fonts(t,e)},e.rule=function(t,e,n){return l.DomCss.rule(t,e,n)},e.rules=function(t,e,n){return void 0===n&&(n=""),l.DomCss.rules(t,e,n)},e.getAttributes=function(t){return h.DomUtils.getAttributes(t)},e.loadMediaUri=function(t,e){return void 0===e&&(e=function(){}),h.DomUtils.loadMediaUri(t,e)},e.loadImage=function(t,e){return void 0===e&&(e=function(){}),h.DomUtils.loadImage(t,e)},e.img2canvas=function(t){return h.DomUtils.img2canvas(t)},e.loadCanvas=function(t){return h.DomUtils.loadCanvas(t)},e.getParentPile=function(t,e,n){return void 0===n&&(n=10),h.DomUtils.getParentPile(t,e,n)},e.findParent=function(t,e,n){return void 0===n&&(n=10),h.DomUtils.findParent(t,e,n)},e.download=function(t,e){h.DomUtils.download(t,e)},e.downloadFile=function(t){h.DomUtils.downloadFile(t)},e.higherZindex=function(t){return void 0===t&&(t=document.body),l.DomCss.higherZindex(t)},e.handleCssVars=function(t,e,n){return l.DomCss.handleVars(t,e,n)},e};e.default=m},903:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DomBaseModule=void 0;var i=n(573),s=n(499),a=n(815),u=n(468),c=function(t,e){void 0===e&&(e=!1),this.data=t,this.isPrivate=e},l=function(){function t(){this.id=i.DomCore.uid,this.models=new Map,this._modules=[]}return Object.defineProperty(t.prototype,"store",{get:function(){return this._store||(this._store=new s.DomStore)},enumerable:!1,configurable:!0}),t.prototype.import=function(t,e){var n=this;if(void 0===e&&(e=!1),t instanceof Array)t.map((function(t){return n.import(t,e)}));else if(a.DomModel.isPrototypeOf(t)){var r=t;u.DomModelRegistry.registerModel(r),this.models.set(r.tagName,new c(r,e))}else this._modules.find((function(e){return e.data===t}))||this._modules.push(new c(t,e))},t.prototype.addModel=function(t,e,n,r){if(void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===r&&(r=!1),"string"==typeof t){var i=function(r){function i(t,e){return void 0===e&&(e=[]),r.call(this,t,e)||this}return o(i,r),i.prototype._domOnBuild=function(n,r){return e.apply(this,[t,n,r])},i.tagName=t,i.rulesData=n||{},i}(a.DomModel);this.models.set(t,new c(i,r))}},t.prototype.hasOwnModel=function(t,e){return void 0===e&&(e=!1),this.models.has(t)&&(!e||!this.models.get(t).isPrivate)},t.prototype.hasModel=function(t,e){return void 0===e&&(e=!1),this.hasOwnModel(t,e)||!!this._modules.find((function(e){return e.data.hasModel(t,!0)}))},t.prototype.getModel=function(t,e){if(void 0===e&&(e=!1),this.hasOwnModel(t,e))return this.models.get(t).data;for(var n=0,r=this._modules;n<r.length;n++){var o=r[n];if(!o.isPrivate){var i=o.data.getModel(t,!0);if(i)return i}}},t}();e.DomBaseModule=l},573:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomCore=void 0;var r=n(947),o=n(815),i=function(){function t(){}return Object.defineProperty(t,"uid",{get:function(){var t=Date.now();return t===this._uidDate?this._uidCnt++:(this._uidCnt=0,this._uidDate=t),this._uidDate.toString(36)+"-"+this._uidCnt},enumerable:!1,configurable:!0}),t.html=function(t,e,n,r){var i=r?document.createElementNS(r,t):document.createElement(t);return e&&this.parseProps(i,e),n&&i.append.apply(i,n.map((function(t){return t instanceof o.DomModel?t.dom:t}))),i},t.parseProps=function(t,e){var n=this;Object.entries(e).map((function(e){var r=e[0],o=e[1];"object"==typeof o?n.parseProps(t[r],o):t[r]=o}))},t.render=function(e,n,r,o,i){if(void 0===o&&(o=[]),null==e?void 0:e.hasModel(n+"")){var s=new(e.getModel(n+""))(r,o);return s._module=e,s.dom}return t.html(n+"",r,o,i)},t.objName2tagName=function(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))},t.tagName2objName=function(t){return t.replace(/\-([a-z])/g,(function(t,e){return e.toUpperCase()}))},t._uidDate=0,t._uidCnt=0,t.libraries=new r.DomLibraries,t}();e.DomCore=i},971:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.DomCss=void 0;var s,a=n(573),u=(s=Proxy,o((function(t,e,n){var r=s.call(this,{},{get:function(t,e){return"setVars"===e?function(t){return Object.entries(t).forEach((function(t){var e=t[0],n=t[1];return r[e]=n}))}:o.style.getPropertyValue("--"+e)},set:function(t,e,n){return o.style.setProperty("--"+e,n),!0}})||this,o=r.findRule(t,n);if(!o){var i=r.sheet,a=i.cssRules.length;i.insertRule(t+"{\n\n}",a),o=i.cssRules[i.cssRules.length-1]}return e&&Object.entries(e).forEach((function(t){var e=t[0],n=t[1];r[e]||(r[e]=n)})),r}),s),function(){function t(){}return Object.defineProperty(t,"sheet",{get:function(){return 0==document.styleSheets.length&&document.documentElement.appendChild(document.createElement("style")),document.styleSheets[document.styleSheets.length-1]},enumerable:!1,configurable:!0}),t.defaultCss=function(t,e){var n,r;if(void 0===e&&(e=!1),t instanceof HTMLElement&&(n=t,t=t.tagName),t=t.toLowerCase(),e||n||!this.defaultCssRef.has(t)){var o=void 0,i=document.documentElement;try{o=document.createElement(t),i.appendChild(o);var s=window.getComputedStyle(o);r=new Map,Object.keys(s).map((function(t){return s[t+""]})).filter((function(t){return"-"!==t.charAt(0)&&""!==s[t]})).forEach((function(t){return r.set(t,s[t])})),n||this.defaultCssRef.set(t,r),i.removeChild(o)}catch(t){throw o&&o.parentNode&&i.removeChild(o),"\n_dom.properties Error:\n"+t}}else r=this.defaultCssRef.get(t);return r},t.fonts=function(t,e){e instanceof CSSStyleSheet||(e=this.sheet);var n={};return Object.keys(t).forEach((function(r){var o="string"==typeof t[r]?{src:"url('"+t[r]+"')"}:t[r]instanceof Array?{src:t[r].map((function(t){return"url('"+t+"')"})).join(",")}:t[r],i=Object.entries(o).concat([["fontFamily",r]]).map((function(t){var e=t[0],n=t[1];return e.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))+": "+n+";"})).join("");e.insertRule("@font-face{\n"+i+"\n}",e.cssRules.length),n[r]=e.cssRules[e.cssRules.length-1]})),n},t.rule=function(e,n,r,o,i){if("string"!=typeof e||!e.length)throw console.error("----------_dom.rule Error"),console.log("selector=",e),"\n_dom.rule Error:\nselector is not a valid css query.";var s;if(r instanceof CSSStyleSheet||(r=this.sheet),t.flatSelectors.includes(e)){"@font-face"===e&&console.warn("_dom.rule is depracated for the selector '@font-face' use _dom.fonts instead.");var a=Object.keys(n).map((function(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))+": "+n[t]+";"})).join("");r.insertRule(e+"{\n"+a+"\n}",r.cssRules.length),s=r.cssRules[r.cssRules.length-1]}else if(r.insertRule(e+"{\n\n}",r.cssRules.length),s=r.cssRules[r.cssRules.length-1],n){var u=function(t,e){for(var n in t){if("object"==typeof t[n]){var r=s;r instanceof CSSKeyframesRule?r.appendRule(n+"{\n\n}"):r.insertRule(n+"{\n\n}",r.cssRules.length),u(t[n],r.cssRules[s.cssRules.length-1])}else e.style[n]=t[n];o&&n in i&&(o[i[n]]=o[n])}};u(n,s)}return s},t.rules=function(t,e,n){var r;void 0===n&&(n="");var o="";n&&((r={})["."+(o=n+"-"+a.DomCore.uid)]=t,t=r);var i={},s=this.getRulesData(t);for(var u in e instanceof CSSStyleSheet||(e=this.sheet),s.rules){try{i[u]=this.rule(u,s.rules[u],e,i,s.alias)}catch(t){console.warn('_dom.rules Warning:\nInsertion of rule "'+u+'" failed!\n\n'+t)}u in s.alias&&(i[s.alias[u]]=i[u])}return o?{className:o,rules:i}:i},t.rulesText=function(t){var e=this.getRulesData(t),n=[];for(var r in e.rules){var o=[],s=e.rules[r];for(var u in s)o.push("\t"+a.DomCore.objName2tagName(u)+" : "+s[u]+";");n.push(i(i([r+"{"],o,!0),["}"],!1).join("\n"))}return n},t.handleVars=function(t,e,n){t||(t=":root");var r=this.findRule(t,n);if(!r){var o=this.sheet,i=o.cssRules.length;o.insertRule(t+"{\n\n}",i),r=o.cssRules[o.cssRules.length-1]}var s=new Proxy({},{get:function(t,e){return"setVars"===e?function(t){return Object.entries(t).forEach((function(t){var e=t[0],n=t[1];return s[e]=n}))}:r.style.getPropertyValue("--"+e)},set:function(t,e,n){return r.style.setProperty("--"+e,n),!0}});return e&&Object.entries(e).forEach((function(t){var e=t[0],n=t[1];s[e]||(s[e]=n)})),s},t.findRule=function(t,e){var n=this.findRules(t,e);return n.length?n[n.length-1]:null},t.findRules=function(t,e){return(e?[e]:Array.from(document.styleSheets)).flatMap((function(e){return Array.from(e.cssRules).filter((function(e){return e.selectorText===t}))}))},t.getRulesData=function(e){var n={rules:{},alias:{}},r=function(e,o,i,s){var a,u={};i.length&&(a=i.join(""));var c=function(c){var l=c.charAt(0);if("$"===l){var h=c.replace(/([$])/,"\\$1")+"(?![\\w-])";o[h]=e[c]}else if(t.flatSelectors.includes(c))n.rules[c]=e[c];else if("@"===l){var f={rules:{},alias:{}};r(e[c],Object.assign({},o),[],f),s.rules[c]=f.rules}else if("object"==typeof e[c])("&"===l?c.slice(1):!i.length||[">",":"].includes(l)?c:" "+c).split(",").forEach((function(t){r(e[c],Object.assign({},o),i.concat([t]),s||n)}));else if("alias"===c)n.alias[a]=e[c];else{var d=e[c]+"";Object.keys(o).forEach((function(t){d=d.replace(new RegExp(t),o[t])})),u[c]=d}};for(var l in e)c(l);a?s.rules[a]?Object.assign(n.rules[a],u):s.rules[a]=u:Object.keys(u).length&&Object.assign(n.rules,u)};return r(e,{},[],n),n},t.getValue=function(t,e){return 1==t.nodeType?(e=a.DomCore.tagName2objName(e),t.style[e]||document.defaultView.getComputedStyle(t,"").getPropertyValue(e)):""},t.higherZindex=function(t){void 0===t&&(t=document.body);for(var e=0,n=0;n<t.childNodes.length&&e<1/0;n++)e=Math.max(e,parseInt(this.getValue(t.childNodes[n],"z-index"))||0);return e},t.defaultCssRef=new Map,t.flatSelectors=["@font-face"],t}());e.DomCss=u},947:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomLibrary=e.DomLibraries=void 0;e.DomLibraries=function(){};e.DomLibrary=function(t,e){}},657:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.LoadMediaProgress=void 0;var r=n(573),o=function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.url=t,this.loaded=e,this.total=n,this.percent=r};e.LoadMediaProgress=o;var i={scrollBarWidth:-1},s=function(){function t(){}return t.loadMediaUri=function(t,e){void 0===e&&(e=function(){});var n=new o(t);return new Promise((function(r,o){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(t){var e=new Blob([this.response]);r(window.URL.createObjectURL(e))},i.onprogress=function(t){n.loaded=t.loaded,n.total=t.total,n.percent=t.loaded/t.total,e(n)},i.onloadstart=function(){},i.onerror=function(t){o(t)},i.send()}))},t.loadImage=function(t,e){var n=this;return void 0===e&&(e=function(){}),new Promise((function(o,i){n.loadMediaUri(t,e).then((function(t){r.DomCore.html("img",{src:t,onload:function(t){return o(t.target)},onerror:function(t){return i(t)}})})).catch((function(t){return i(t)}))}))},t.img2canvas=function(t){var e,n=r.DomCore.html("canvas",{width:t.width,height:t.height});return null===(e=n.getContext("2d"))||void 0===e||e.drawImage(t,0,0),n},t.loadCanvas=function(e){return new Promise((function(n,r){t.loadImage(e).then((function(e){return n(t.img2canvas(e))})).catch(r)}))},t.download=function(e,n){var o=this,i="";if(n instanceof HTMLImageElement){if(!n.complete)return void n.addEventListener("load",(function(){return o.download(e,n)}));i=t.img2canvas(n).toDataURL()}else"string"!=typeof n&&"toDataURL"in n?i=n.toDataURL():n instanceof File||n instanceof Blob?i=URL.createObjectURL(n):"string"==typeof n&&(i=URL.createObjectURL(new Blob([n],{type:"text/plain"})));if(i){var s=r.DomCore.html("a",{style:{display:"none"},href:i,download:e});document.body.appendChild(s),s.click(),document.body.removeChild(s)}},t.downloadFile=function(e){t.download(e.name,e)},t.getParentPile=function(t,e,n){void 0===n&&(n=10);var r=[];if(t instanceof HTMLElement||r.push('arg[0] "dom" is not an HTMLElement.'),"function"!=typeof e&&r.push('arg[1] "condition" is not a function.'),("number"!=typeof n||n<2)&&r.push('arg[2] "maxDeep" is not a number with a value > 1 ."'),r.length)throw console.error("----------_dom.getParentPile Error"),console.log("arguments=",arguments),"\n_dom.getParentPile Error:\n"+r.map((function(t){return"\t- "+t})).join("\n");for(var o=[],i=0;i<n&&t.parentNode;i++){if(i>0&&(o.unshift(t),e(t)))return o;if(!(t.parentNode instanceof HTMLElement))break;t=t.parentNode}return null},t.findParent=function(t,e,n){void 0===n&&(n=10);var r=this.getParentPile(t,e,n);return r&&r[0]||null},t.getAttributes=function(t){for(var e={},n=0,r=t.attributes,o=r.length;n<o;n++){var i=r[n].nodeName,s=r[n].nodeValue;if(["false","off"].includes(s))s=!1;else if(["true","on"].includes(s))s=!0;else try{s=JSON.parse(s)}catch(t){}e[i]=s}return e},t.getScrollBarWidth=function(t){if(void 0===t&&(t=!1),!t&&-1!==i.scrollBarWidth)return i.scrollBarWidth;var e=document.createElement("div");e.style.cssText="overflow:scroll; visibility:hidden; position:absolute;",document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return e.remove(),document.documentElement.style.setProperty("--scrollbar-width",n+"px"),i.scrollBarWidth=n},t}();e.DomUtils=s},815:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomModel=void 0;var r=n(834),o=n(468),i=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=[]),o.DomModelRegistry.register(this,t,e)}return Object.defineProperty(t.prototype,"dom",{get:function(){return o.domModelMap.get(this).dom},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.constructor.tagName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rules",{get:function(){return o.domModelMap.get(this).rules},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssVars",{get:function(){return o.domModelMap.get(this).cssVars},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadowRules",{get:function(){return o.domModelMap.get(this).shadowRules},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){return o.domModelMap.get(this).inputs},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return o.domModelMap.get(this).clone()},t.prototype.connect=function(){o.domModelMap.get(this).connect()},t.prototype.disconnect=function(){o.domModelMap.get(this).disconnect()},t.prototype.setInput=function(t,e){o.domModelMap.get(this).setInput(t,e)},t.prototype.onInput=function(t,e){var n=o.domModelMap.get(this);n.inputListener||(n.inputListener=new r.Listener,this._domOn("attributechange",(function(e){n.inputListener.flush(t,e.data)}))),n.inputListener.on(t,e)},t.prototype._domOn=function(t,e){var n=o.domModelMap.get(this);["ready","destroy"].includes(t)?n.requireLifeObserver=!0:(t="attributechange")&&n.onAttributeChange(),n.domCycleListener.on(t,e)},t.prototype._domOnceBuilt=function(t){this.dom?t():o.domModelMap.get(this).domCycleListener.once("afterinit",t)},t.prototype._domOnInit=function(t,e){void 0===e&&(e=[])},t.prototype._domOnAfterInit=function(t,e){void 0===e&&(e=[])},t.prototype._domOnAttributeChange=function(t,e,n){},t.prototype._domOnReady=function(){},t.prototype._domOnDestroy=function(){},t.prototype._domOnBuild=function(t,e){void 0===e&&(e=[])},t.shadowRules=!1,t.rulesData={},t}();e.DomModel=i},340:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomModelPrivate=void 0;var i=n(834),s=n(573),a=n(971),u=n(892),c=n(429),l=n(815),h=n(468),f=function(){function t(t,e,n,r){void 0===n&&(n={}),void 0===r&&(r=[]),this.model=t,this._inputs=n,this.children=r,this.domCycleListener=new i.Listener,this.requireLifeObserver=!1,this.modelLifeObserver=null,this.modelAttrObserver=null,this.instanceRef=new WeakRef(e)}return t.prototype.initDom=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return this._dom=document.createElement(this.model.tagName),[4,this.initDomElement()];case 1:return e.sent(),this.model.shadowRules&&this.initDomShadowRules(),this.domCycleListener.flush("build",this),(t=this.instance._domOnAfterInit(this._inputs,this.children))instanceof Promise?[4,t]:[3,3];case 2:e.sent(),e.label=3;case 3:return this.domCycleListener.flush("afterinit",this),this.initDomTriggers(),[2]}}))}))},t.prototype.initDomElement=function(){return r(this,void 0,void 0,(function(){var t,e,n,r,i;return o(this,(function(o){switch(o.label){case 0:return(t=this.instance._domOnInit(this._inputs,this.children))instanceof Promise?[4,t]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.domCycleListener.flush("init",this),this.model.className&&(this._dom.className=this.model.className),(e=this.instance._domOnBuild(this._inputs,this.children))instanceof Promise?[4,e]:[3,4];case 3:return r=o.sent(),[3,5];case 4:r=e,o.label=5;case 5:if((n=r)instanceof Array||(n=[n]),!n.every((function(t){return t instanceof HTMLElement||t instanceof l.DomModel||"string"==typeof t})))throw["","_dom model "+this.model.name+" Error :"," - method _domOnBuild must return an HTMLElement or a non empty list of string | HTMLElement | DomModel."].join("\n");return(i=this._dom).append.apply(i,n.map((function(t){return t instanceof l.DomModel?t.dom:t}))),[2]}}))}))},t.prototype.initDomShadowRules=function(){var t=this,e="_dom_"+Math.random().toString(36).slice(2);this._dom.setAttribute(e,"");var n=h.DomModelRegistry.getRulesData(this.model);for(var r in n)n[r+"["+e+"]"]=n[r],delete n[r];var o=s.DomCore.html("style",{type:"text/css"});this._dom.appendChild(o),setTimeout((function(){t._rules=a.DomCss.rules(n,o.sheet),t.model.cssVars&&(t._cssVars=a.DomCss.handleVars(t.model.tagName+"["+e+"]",t.model.cssVars,o.sheet))}),1)},t.prototype.initDomTriggers=function(){var t=this;if(this.requireLifeObserver&&this.initLifeObserver(),this.overrided("_domOnReady")&&this.instance._domOn("ready",(function(e){return r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.instance._domOnReady()];case 1:return t.sent(),[2]}}))}))})),this.overrided("_domOnDestroy")&&this.instance._domOn("destroy",(function(e){return r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.instance._domOnDestroy()];case 1:return t.sent(),[2]}}))}))})),this.overrided("_domOnAttributeChange")&&this.instance._domOn("attributechange",(function(e){return r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.instance._domOnAttributeChange(e.data.name,e.data.value,e.data.oldValue)];case 1:return t.sent(),[2]}}))}))})),this._inputs&&this.inputListener)for(var e in this._inputs)this.inputListener.flush(e,{name:e,value:this._inputs[e],oldValue:void 0})},t.prototype.overrided=function(t){return this.instance[t]!==l.DomModel.prototype[t]},t.prototype.initLifeObserver=function(){var t=this;this.modelLifeObserver||(this.modelLifeObserver=new c.DomModelLifeObserver(this.instance),this.modelLifeObserver.onReady((function(){t.domCycleListener.flush("ready",t)})),this.modelLifeObserver.onDestroy((function(){t.domCycleListener.flush("destroy",t)})))},Object.defineProperty(t.prototype,"instance",{get:function(){return this.instanceRef.deref()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dom",{get:function(){return this._dom||this.initDom(),this._dom},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rules",{get:function(){return this.shadowRules?this._rules:h.domModelStaticMap.get(this.model).rules},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssVars",{get:function(){return this.shadowRules?this._cssVars:h.domModelStaticMap.get(this.model).cssVars},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadowRules",{get:function(){return this.model.shadowRules},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){var t=this;return this._inputProxy||(this._inputProxy=new Proxy({},{get:function(e,n){return t._inputs[n]},set:function(e,n,r){return t.setInput(n,r),!0}})),this._inputProxy},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new this.model(this._inputs,this.children)},t.prototype.connect=function(){this.modelLifeObserver.connect()},t.prototype.disconnect=function(){this.modelLifeObserver&&this.modelLifeObserver.disconnect()},t.prototype.setInput=function(t,e){if("object"==typeof this._inputs){var n=this._inputs[t];this._inputs[t]=e,this.inputListener&&this.inputListener.flush(t,{name:t,value:e,oldValue:n})}},t.prototype.onAttributeChange=function(){var t=this;this.modelAttrObserver||(this.modelAttrObserver=new u.DomModelAttrObserver(this.instance),this.modelAttrObserver.onChange((function(e,n,r){t.domCycleListener.flush("attributechange",{name:e,value:n,oldValue:r})})))},t}();e.DomModelPrivate=f},468:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.domModelMap=e.domModelStaticMap=e.DomModelRegistry=void 0;var r=n(573),o=n(971),i=n(340),s=function(){function t(t){this.model=t}return t.register=function(t,n,r){void 0===n&&(n={}),void 0===r&&(r=[]);var o=t.constructor;this.registerModel(o),e.domModelMap.set(t,new i.DomModelPrivate(o,t,n,r))},t.get=function(t){return e.domModelStaticMap.get(t.constructor)},t.registerModel=function(n){if(!e.domModelStaticMap.has(n)){var r=new t(n);r.init(),e.domModelStaticMap.set(n,r)}},t.getRulesData=function(t){var e,n="function"==typeof t.rulesData?t.rulesData(t):t.rulesData;return(e={})[t.tagName]=n,e},t.getRules=function(t,e){return o.DomCss.rules(this.getRulesData(t),e)},t.prototype.init=function(){this.initTagName(),this.initRules()},t.prototype.initTagName=function(){this.model.tagName||(this.model.tagName=r.DomCore.objName2tagName(this.model.name).slice(1),this.model.tagName.lastIndexOf("-model")===this.model.tagName.length-6&&(this.model.tagName=this.model.tagName.slice(0,-6)))},t.prototype.initRules=function(){this.rules||(this.rules=t.getRules(this.model,null),this.model.cssVars&&(this.cssVars=o.DomCss.handleVars(this.model.tagName,this.model.cssVars,null)))},t}();e.DomModelRegistry=s,e.domModelStaticMap=new WeakMap,e.domModelMap=new WeakMap},689:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomAttributesObserver=void 0;var n=function(){function t(t){var e=this;this.target=t,this._attrBuffer=new Map,this._onchange=function(){},this._mutationCallback=function(t){for(var n=0,r=t;n<r.length;n++){var o=r[n];if("attributes"===o.type){var i=o.attributeName,s=e._attrBuffer.get(i),a=o.target.getAttribute(i);e._attrBuffer.set(i,a),e._onchange(i,a,s)}}},this._observer=new MutationObserver(this._mutationCallback),this.connect()}return t.prototype.connect=function(){this.disconnect(),this._observer.observe(this.target,{attributes:!0})},t.prototype.disconnect=function(){this._observer.disconnect()},t.prototype.onChange=function(t){this._onchange=t},t}();e.DomAttributesObserver=n},194:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomLifeObserver=void 0;var n=function(){function t(t){var e=this;this.target=t,this._ondestroy=function(){},this._onready=function(){},this._ready=!1,this._intree=!1,this._mutationCallback=function(t){for(var n=0,r=t;n<r.length;n++){var o=r[n];if("childList"===o.type){var i=e._intree?o.removedNodes:o.addedNodes;if(i.length){var s=Array.from(i);(s.includes(e.target)||s.some((function(t){return t.contains(e.target)})))&&(e._intree?e._intree=!1:e._intree=!0,e._intree!==e._ready&&(e._ready?requestAnimationFrame((function(){e._intree||e.disconnect()})):(e._ready=!0,e._onready())))}}}},this._observer=new MutationObserver(this._mutationCallback),this.connect()}return Object.defineProperty(t.prototype,"ready",{get:function(){return this._ready},enumerable:!1,configurable:!0}),t.prototype.connect=function(){this.disconnect(),this._observer.observe(document.documentElement,{childList:!0,subtree:!0})},t.prototype.disconnect=function(){!this._intree&&this._ready&&(this._ready=!1,this._ondestroy()),this._observer.disconnect()},t.prototype.onReady=function(t){this._onready=t},t.prototype.onDestroy=function(t){this._ondestroy=t},t}();e.DomLifeObserver=n},892:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomModelAttrObserver=void 0;var r=n(689),o=function(){function t(t){this.modelInstance=t,this._attrObserver=null}return t.prototype.onChange=function(t){var e=this,n=function(){e._attrObserver=e._attrObserver||new r.DomAttributesObserver(e.modelInstance.dom),e._attrObserver.onChange(t)};this.modelInstance.dom?n():requestAnimationFrame(n)},t}();e.DomModelAttrObserver=o},429:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomModelLifeObserver=void 0;var r=n(194),o=function(){function t(t){this.modelInstance=t,this._regz={ready:!1,destroy:!1}}return t.prototype.connect=function(){this._life.connect()},t.prototype.disconnect=function(){this._life.disconnect()},t.prototype.onReady=function(t){var e=this;if(this._regz.destroy)throw["","_dom.model "+this.modelInstance.tagName+" build Error:"," - onReady must be called before onDestroy."].join("\n");this._regz.ready=!0;var n=function(){e._life=e._life||new r.DomLifeObserver(e.modelInstance.dom),e._life.onReady(t)};this.modelInstance.dom?n():requestAnimationFrame(n)},t.prototype.onDestroy=function(t,e){var n=this;void 0===e&&(e=1),this._regz.destroy=!0;var o=function(){n._life=n._life||new r.DomLifeObserver(n.modelInstance.dom),n._life.onDestroy(t)};this.modelInstance.dom?o():requestAnimationFrame(o)},t}();e.DomModelLifeObserver=o},879:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},156:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(957);o(n(957),e);var s=(new i.DomModule)._dom;e.default=s},784:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Classes=void 0;var n=function(){function t(){}return t.getPile=function(t){for(var e,n,r=t.prototype?t:t.constructor,o=[r],i=void 0;(i=null===(n=null===(e=null==r?void 0:r.prototype)||void 0===e?void 0:e.__proto__)||void 0===n?void 0:n.constructor)&&i!==r;)o.push(r=i);return o},t.getNamePile=function(t){return this.getPile(t).map((function(t){return t.name}))},t.inherit=function(t,e){var n,r,o=t.prototype?t:t.constructor;if(o===e)return!0;for(var i=void 0;(i=null===(r=null===(n=null==o?void 0:o.prototype)||void 0===n?void 0:n.__proto__)||void 0===r?void 0:r.constructor)&&i!==o;)if((o=i)===e)return!0;return!1},t}();e.Classes=n},36:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Cookie=void 0;var n=function(){function t(){}return t.get=function(t){return(document.cookie.match(RegExp("(?:^|;\\s*)"+encodeURI(t)+"=([^;]*)"))||[,null])[1]},t.has=function(t){return null!==this.get(t)},t.delete=function(t,e){void 0===e&&(e="/"),document.cookie=encodeURI(t)+"=;Path="+e+";Domain="+location.hostname+";expires=Thu, 01 Jan 1970;"},t.set=function(t,e,n){new Date;var r=n||{},o=[];if(o.push(encodeURI(t)+"="+e+";"),!r.session){var i=r.expires||new Date(Date.now()+(864e5*(r.expireDays||0)||36e5*(r.expireHours||0)||6e4*(r.expireMinutes||0)||864e5)).toUTCString();o.push("expires="+i+";")}o.push("Path="+(r.path||"/")+";"),r.domain&&o.push("Domain="+r.domain+";"),r.secure&&"https"===location.protocol&&o.push("secure"),document.cookie=o.join("")},t.getAll=function(){var t={};return document.cookie.split(";").map((function(t){return t.trim()})).filter((function(t){return t})).forEach((function(e){var n=e.indexOf("=");t[decodeURI(e.slice(0,n).trim())]=e.slice(n+1)})),t},t}();e.Cookie=n},138:function(t,e){var n=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.DataList=e.DataListLink=void 0;var r=function(){function t(t,e,n){this._datalist=t,this._container=e,this._renderer=n,this._rid=0,this._data=[],this.dumb=!1,this._changed()}return t.prototype._changed=function(){var t=this;this._rid||(this._rid=requestAnimationFrame((function(){t._rid=0,t.refresh()})))},t.prototype.refresh=function(){var t=this;if(this._datalist&&this._container){var e=this._data,n=this._datalist.data;if(this.dumb)this._container.innerHTML="",n.map((function(e,r){return t._container.appendChild(t._renderer(e,r,n))}));else{var r=new Map,o=new Map;e.map((function(t,e){return r.set(e,t)}));var i=n.map((function(t){if(o.has(t))return-1;var n=e.findIndex((function(e){return e===t}));return n>-1&&(r.delete(n),o.set(t,!0)),n})).map((function(e,r){return e>-1?t._container.childNodes[e]:t._renderer(n[r],r,n)}));Array.from(r.keys()).map((function(e){return t._container.childNodes[e]})).map((function(e){return t._container.removeChild(e)})),i.map((function(e){return t._container.appendChild(e)}))}this._data=n}},Object.defineProperty(t.prototype,"list",{get:function(){return this._datalist},set:function(t){t!==this._datalist&&(this._datalist&&this._datalist.detach(this),this._datalist=t,this._datalist.attach(this),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){var e=this;this._container!==t&&(this._container&&t?(Array.from(this._container.childNodes).map((function(e){return t.appendChild(e)})),this._container=t):this._container?Array.from(this._container.childNodes).map((function(t){return e._container.removeChild(t)})):t&&this._data.map((function(n,r){return t.appendChild(e._renderer(n,r,e._data))})),this._container=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){return this._renderer},set:function(t){var e=this;this._renderer!==t&&(Array.from(this._container.childNodes).map((function(t){return e._container.removeChild(t)})),this._data.map((function(t,n){return e._container.appendChild(e._renderer(t,n,e._data))})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._datalist.data},set:function(t){this._datalist.data=t},enumerable:!1,configurable:!0}),t}();e.DataListLink=r;var o=function(){function t(t){void 0===t&&(t=[]),this._data=t,this._links=[]}return t.prototype._refreshLinks=function(){this._links.map((function(t){return t._changed()}))},Object.defineProperty(t.prototype,"data",{get:function(){return this._data.slice(0)},set:function(t){this._refreshLinks(),this._data=t},enumerable:!1,configurable:!0}),t.prototype.link=function(t,e){var n=this._links.find((function(e){return e.container===t}));return n||(n=new r(this,t,e),this._links.push(n),n)},t.prototype.attach=function(t){this._links.find((function(e){return e===t}))||(this._links.push(t),t.list=this)},t.prototype.detach=function(t){var e=this._links.findIndex((function(e){return e===t}));e>-1&&this._links.splice(e,1)},t.prototype.push=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._refreshLinks(),(t=this._data).push.apply(t,e)},t.prototype.pop=function(){return this._refreshLinks(),this._data.pop()},t.prototype.unshift=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._refreshLinks(),(t=this._data).unshift.apply(t,e)},t.prototype.shift=function(){return this._refreshLinks(),this._data.shift()},t.prototype.splice=function(t,e){for(var r,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];return this._refreshLinks(),(r=this._data).splice.apply(r,n([t,e],o,!1))},t.prototype.sort=function(t){return this._refreshLinks(),this._data.sort(t)},t.prototype.reverse=function(){return this._refreshLinks(),this._data.reverse()},t.prototype.map=function(e){return new t(this._data.map(e))},t.prototype.slice=function(e,n){return new t(this._data.slice(e,n))},Object.defineProperty(t.prototype,"length",{get:function(){return this._data.length},enumerable:!1,configurable:!0}),t}();e.DataList=o},920:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomLangRegIO=e.DomLangText=e.DomLangReg=e.DomLang=void 0;var n=function(){function t(){this._map=new Map,this._registered=[],this._buffer=new Map}return t.prototype._changeLang=function(){this._registered.forEach((function(t){return t.changeLang()}))},Object.defineProperty(t.prototype,"lang",{get:function(){return this._lang},set:function(t){t!==this._lang&&this._map.has(t)&&(this._buffer=new Map,this._lang=t,this._changeLang())},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){this._map.set(t,e),this._lang?this.lang===t&&this._changeLang():this.lang=t},t.prototype.load=function(t,e){var n=this;return new Promise((function(r,o){fetch(e).then((function(t){return t.json()})).then((function(e){n.add(t,e),r(e)}))}))},t.prototype.getText=function(t,e){var n="";if(this._buffer.has(t))n=this._buffer.get(t);else{if(!this._map.has(this._lang))return"";n=this._map.get(this._lang),t.split(".").some((function(t){if(!n.hasOwnProperty(t))return n="",!0;n=n[t]})),this._buffer.set(t,n)}return e&&Object.entries(e).forEach((function(t){var e=t[0],r=t[1];return n=n.split("{{"+e+"}}").join(r)})),n},t.prototype.register=function(t){var e=new r(this);return this._registered.push(e),t&&t.on&&t.on("destroy",(function(){return e.destroy()})),e.io},t.prototype.destroy=function(t){var e=this._registered.findIndex((function(e){return e===t}));e>-1&&this._registered.splice(e,1)},t}();e.DomLang=n;var r=function(){function t(t){this._root=t,this.io=new i(this),this.nodes=[]}return t.prototype.changeLang=function(){this.nodes.forEach((function(t){return t.change()}))},t.prototype.getText=function(t,e){return this._root.getText(t,e)},t.prototype.getLangText=function(t,e,n,r){var i=new o(this,t,e,n,r);return this.nodes.push(i),i},t.prototype.getTextNode=function(t,e){var n=document.createTextNode(this._root.getText(t,e));return this.getLangText(t,e||{},(function(t,e){return e.nodeValue=t}),n)},t.prototype.getTextLink=function(t,e,n,r){return this.getLangText(t,e||{},(function(t,e){return e[r]=t}),n).change()},t.prototype.getTextWatch=function(t,e,n){var r=this.getLangText(t,e||{},(function(t,e){if(t!==e){var o=e;r.target=t,n(r.target,o)}}),null).change();return r},t.prototype.destroyText=function(t){var e=this.nodes.findIndex((function(e){return e===t}));e>-1&&this.nodes.splice(e,1)},t.prototype.destroy=function(){this._root.destroy(this)},t}();e.DomLangReg=r;var o=function(){function t(t,e,n,r,o){this._reg=t,this.key=e,this.params=n,this.changeCB=r,this.target=o,this._rid=0}return Object.defineProperty(t.prototype,"text",{get:function(){return this._reg.getText(this.key,this.params)},enumerable:!1,configurable:!0}),t.prototype.setKey=function(t){this.key=t,this.change()},t.prototype.setParams=function(t){this.params=t,this.change()},t.prototype.change=function(){var t=this;return this._rid||(this._rid=requestAnimationFrame((function(){t._rid=0,t.changeCB(t.text,t.target)}))),this},t.prototype.destroy=function(){this._reg.destroyText(this)},t}();e.DomLangText=o;var i=function(){function t(t){this._reg=t}return t.prototype.getText=function(t,e){return this._reg.getText(t,e)},t.prototype.getTextNode=function(t,e){return this._reg.getTextNode(t,e)},t.prototype.getTextLink=function(t,e,n,r){return this._reg.getTextLink(t,e,n,r)},t.prototype.getTextWatch=function(t,e,n){return this._reg.getTextWatch(t,e,n)},t.prototype.destroy=function(){this._reg.destroy()},t}();e.DomLangRegIO=i},449:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomRouter=void 0;var r=n(957),o=n(834),i=function(){function t(e){void 0===e&&(e="");var n=this;this._basePath=e,this._rqid=0,this._listener=new o.Listener,this._current={path:"",search:"",hash:""},this._currentData={path:"",search:{},hash:{}},this._anim=function(){n._rqid=requestAnimationFrame(n._anim);var e={path:n._currentData.path,search:n._currentData.search,hash:n._currentData.hash},r=!1;if(window.location.pathname!==n._current.path){r=!0;var o=n._currentData.path;n._current.path=window.location.pathname,n._currentData.path=t.getPath(),n._listener.flush("pathchange",{value:n._currentData.path,oldValue:o})}window.location.search!==n._current.search&&(r=!0,o=n._currentData.search,n._current.search=window.location.search,n._currentData.search=t.getSearch(),n._listener.flush("searchchange",{value:n._currentData.search,oldValue:o})),window.location.hash!==n._current.hash&&(r=!0,o=n._currentData.hash,n._current.hash=window.location.hash,n._currentData.hash=t.getHash(),n._listener.flush("hashchange",{value:n._currentData.hash,oldValue:o})),r&&n._listener.flush("change",{value:n._currentData,oldValue:e})}}return Object.defineProperty(t.prototype,"active",{get:function(){return!!this._rqid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._currentData},set:function(e){t.setData(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._currentData.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this._currentData.search},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this._currentData.hash},enumerable:!1,configurable:!0}),t.prototype.start=function(){return this._rqid||(this._rqid=requestAnimationFrame(this._anim)),this},t.prototype.stop=function(){return t._instance===this?(console.warn("DomRouter.instance can't be stopped"),this):(this._rqid&&(cancelAnimationFrame(this._rqid),this._rqid=0),this)},t.prototype.on=function(t,e){return this._listener.on(t,e),this},t.prototype.getOutlet=function(t,e){return void 0===e&&(e=""),new s(this,t,this._basePath+e).dom},t.prototype.link=function(e,n,r){return void 0===r&&(r=!1),t.link(e,this._basePath+n,r)},t.prototype.getLink=function(e,n,r){return void 0===r&&(r=!1),t.getLink(e,this._basePath+n,r)},Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=(new t).start())},enumerable:!1,configurable:!0}),t.link=function(t,e,n){void 0===n&&(n=!1);var r="boolean"==typeof n,o=r?"":this.obj2Hash(n),i=e+(o?"#"+o:"");return t.onclick=function(t){var e=i+(r&&n?window.location.hash:"");return window.history.pushState({uri:e},"",e),!1},t instanceof HTMLAnchorElement&&(t.href=i),t},t.getLink=function(t,e,n){void 0===n&&(n=!1);var r=document.createElement("a");return"string"==typeof t?r.innerHTML=t:r.append(t),this.link(r,e,n)},t.toLink=function(t){return t.onclick=function(e){return window.history.pushState({url:t.href},"",t.href),!1},t},t.getOutlet=function(t,e){return void 0===e&&(e=""),this.instance.getOutlet(t,e)},t.getData=function(){return{path:this.getPath(),search:this.getSearch(),hash:this.getHash()}},t.setData=function(e){var n="path"in e?e.path:window.location.pathname,r="search"in e?t.obj2Hash(e.search):window.location.search,o="hash"in e?t.obj2Hash(e.hash):window.location.hash,i=window.location.protocol+"//"+window.location.host+(n&&"/"!==n.charAt(0)?"/"+n:"")+r+o;window.history.pushState({path:i},"",i)},t.getPath=function(){return window.location.pathname},t.setPath=function(t){var e=window.location.protocol+"//"+window.location.host+(t&&"/"===t.charAt(0)?"":"/")+t+window.location.search+window.location.hash;window.history.pushState({path:e},"",e)},t.getSearch=function(){return this.hash2Obj(window.location.search)},t.setSearch=function(t){window.location.search=this.obj2Hash(t)},t.getHash=function(){return this.hash2Obj(window.location.hash)},t.setHash=function(t){window.location.hash=this.obj2Hash(t)},t.obj2Hash=function(t){return Object.entries(t).map((function(t){var e=t[0],n=t[1];return e+"="+encodeURIComponent(n)})).join("&")},t.hash2Obj=function(t){if(!(t=!t||"#"!==t.charAt(0)&&"?"!==t.charAt(0)?t:t.slice(1)))return{};var e={};return t.split("&").map((function(t){var n=t.indexOf("="),r=n>-1?[t.slice(0,n),decodeURIComponent(t.slice(n+1))]:[t,!0],o=r[0],i=r[1];String(o)in e?(e[String(o)]instanceof Array||(e[String(o)]=[e[String(o)]]),e[String(o)].push(i)):e[String(o)]=i})),e},t}();e.DomRouter=i;var s=function(){function t(t,e,n){void 0===n&&(n="");var r=this;if(this._router=t,this._routes=e,this._basePath=n,this.dom=document.createElement("dom-router-outlet"),!this._routes.find((function(t){return"*"===t.path})))throw["","DomRouterOutlet Error :","routes list is missing the default route {path:'*',...}."].join("\n");t.path&&this._pathChanged(t.path),t.on("pathchange",(function(t){return r._pathChanged(t.data.value)}))}return t.prototype._pathChanged=function(t){var e=this;if(this._path!==t){this._path=t;var n=this._routes.find((function(n){return e._basePath+n.path===t}));if(n||(n=this._routes.find((function(t){return"*"===t.path}))),n){if(n.path===n.redirect)throw["","DomRouterOutlet Error :",'Properties path and redirect "'+n.path+'" must be different.'].join("\n");if(n.redirect){if(!this._routes.find((function(t){return t.path===n.redirect})))throw["","DomRouterOutlet Error :",'Bad redirection "'+n.redirect+'" not found.'].join("\n");i.setPath(this._basePath+n.redirect)}else if(n.getDom){this.dom.innerHTML="";var o=n.getDom(this._router),s=o instanceof r.DomModel?o.dom:o;this.dom.append(s)}else n.model&&(this.dom.innerHTML="",s=(new n.model).dom,this.dom.append(s))}}},t}()},499:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DomStore=e.DomStoreLocalStorageLink=e.DomStoreElement=e.DomStoreLink=void 0;var n=function(){function t(t,e,n,r,o){void 0===o&&(o={});var s=this;if(this.element=t,this.target=e,this.key=n,this.id=r,this.io=o,this.listeners=[],this.io.input||(this.io.input=function(t){return t}),this.io.output||(this.io.output=function(t){return t}),i.booleanable(this.target,this.key))this.listeners.push({type:"change",callback:function(t){s.checkTargetValue()}});else if(i.numberable(this.target,this.key))this.listeners.push({type:"input",callback:function(t){s.checkTargetValue()}});else if(i.textable(this.target,this.key)){var a=e instanceof HTMLSelectElement?"change":"input";this.listeners.push({type:a,callback:function(t){s.checkTargetValue()}})}this.listeners.map((function(t){return e.addEventListener(t.type,t.callback)}))}return t.prototype.checkTargetValue=function(){var t=this.io.output(this.getTargetValue());t!==this.value&&(this.value=t,this.element.valueChanged(this.value,this))},t.prototype.getTargetValue=function(){return i.booleanable(this.target,this.key)?this.target.checked:i.numberable(this.target,this.key)?parseFloat(this.target.value):!!i.textable(this.target,this.key)&&this.target.value},t.prototype.setValue=function(t){return i.booleanable(this.target,this.key)?(this.value=!!t,this.target.checked=this.io.input(this.value)):i.numberable(this.target,this.key)?(this.value="number"==typeof t?t:parseFloat(t+""),this.target.value=""+this.io.input(this.value)):i.textable(this.target,this.key)?(this.value=t+"",this.target.value=this.io.input(this.value)):(this.value=t,this.target[this.key]=this.io.input(this.value)),this},t.prototype.destroy=function(){var t=this;this.listeners.map((function(e){return t.target.removeEventListener(e.type,e.callback)})),this.listeners=[]},t}();e.DomStoreLink=n;var r=function(){function t(t,e,n){this.store=t,this.name=e,this.value=n,this.linkz=new Map}return t.prototype.setValue=function(t){this.valueChanged(t)},t.prototype.setLink=function(t,e,r,o){this.removeLink(r),this.linkz.set(r,new n(this,t,e,r,o).setValue(this.value))},t.prototype.removeLink=function(t){this.linkz.has(t)&&(this.linkz.get(t).destroy(),this.linkz.delete(t))},t.prototype.valueChanged=function(t,e){var n=this;if(this.value!==t){var r=this.value;this.value=t,Array.from(this.linkz.values()).filter((function(t){return t!==e})).map((function(t){return t.setValue(n.value)})),this.store.watchers.has(this.name)&&this.store.watchers.get(this.name).map((function(t){return t("change",n.value,r)})),Array.from(this.store._localStorages.values()).forEach((function(e){return e.set(n.name,t)}))}},t.prototype.destroy=function(){Array.from(this.linkz.values()).map((function(t){return t.destroy()})),this.linkz=new Map},t.fromLink=function(e,r,o,i,s,a){var u=new t(e,r,!1),c=new n(u,o,i,s,a);return u.linkz.set(s,c),c.checkTargetValue(),u},t}();e.DomStoreElement=r;var o=function(){function t(t,e){var n=this;this._store=t,this._prefix=e,this.entries.forEach((function(t){var e=t[0],r=t[1];n._store.set(e,r)})),window.addEventListener("storage",(function(t){if(t.storageArea===localStorage&&0===t.key.indexOf(n.prefix)){var e=t.key.slice(n.prefix.length);null===t.newValue?n._store.delete(e):n._store.set(e,JSON.parse(t.newValue))}}))}return Object.defineProperty(t.prototype,"prefix",{get:function(){return t._postPrefix+this._prefix},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"entries",{get:function(){var t=this;return Object.entries(localStorage).filter((function(e){return 0===e[0].indexOf(t.prefix)})).map((function(e){var n=e[0],r=e[1];return[n.slice(t.prefix.length),JSON.parse(r)]}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"object",{get:function(){var t={};return this.entries.forEach((function(e){var n=e[0],r=e[1];return t[n]=r})),t},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=localStorage.getItem(this.prefix+t);return null===e?e:JSON.parse(e)},t.prototype.set=function(t,e){return localStorage.setItem(this.prefix+t,JSON.stringify(e))},t._postPrefix="-DomStoreLocalStorageLink-",t}();e.DomStoreLocalStorageLink=o;var i=function(){function t(){this.elements=new Map,this.watchers=new Map,this._localStorages=new Map}return Object.defineProperty(t.prototype,"values",{get:function(){var t=this;return this._proxy||(this._proxy=new Proxy({},{get:function(e,n){return t.get(n)},set:function(e,n,r){return t.set(n,r),!0}}))},enumerable:!1,configurable:!0}),t.prototype.set=function(t,e){this.elements.has(t)?this.elements.get(t).setValue(e):this.elements.set(t,new r(this,t,e))},t.prototype.get=function(t){return this.elements.has(t)?this.elements.get(t).value:""},t.prototype.link=function(t,e,n,o,i){void 0===o&&(o=e),void 0===i&&(i={}),o||(o=e),this.elements.has(t)?this.elements.get(t).setLink(e,n,o,i):this.elements.set(t,r.fromLink(this,t,e,n,o,i))},t.prototype.unlink=function(t,e){this.elements.has(t)&&this.elements.get(t).removeLink(e)},t.prototype.watch=function(t,e){this.watchers.has(t)||this.watchers.set(t,[]),this.watchers.get(t).push(e)},t.prototype.unwatch=function(t,e){if(this.watchers.has(t))if(e){var n=this.watchers.get(t),r=n.findIndex((function(t){return t===e}));r>-1&&(n.splice(r,1),n.length||this.watchers.delete(t))}else this.watchers.delete(t)},t.prototype.linkLocalStorage=function(t){this._localStorages.has(t)||this._localStorages.set(t,new o(this,t))},t.prototype.delete=function(t,e){void 0===e&&(e=!1),this.elements.has(t)&&(this.elements.get(t).destroy(),this.elements.delete(t)),!e&&this.watchers.has(t)&&this.watchers.delete(t)},t.prototype.destroy=function(){Array.from(this.elements.values()).map((function(t){return t.destroy()})),this.elements=new Map,this.watchers=new Map},t.prototype.toData=function(){var t=this,e={};return Array.from(this.elements.keys()).map((function(n){return e[n]=t.elements.get(n).value})),e},t.prototype.fromData=function(t){var e=this;return Object.entries(t).map((function(t){var n=t[0],r=t[1];return e.set(n,r)})),this},t.textable=function(t,e){return("value"===e||!e)&&(t instanceof HTMLInputElement||t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement)},t.numberable=function(t,e){return("value"===e||!e)&&t instanceof HTMLInputElement&&"number"===t.type},t.booleanable=function(t,e){return("checked"===e||!e)&&t instanceof HTMLInputElement&&"checkbox"===t.type},t}();e.DomStore=i},222:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EventBuffer=void 0;var n=function(){function t(){this._eventpile=[],this._listening=!1}return Object.defineProperty(t.prototype,"listening",{get:function(){return this._listening},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n){return this._eventpile.push({target:t,type:e,callback:n}),this},t.prototype.start=function(){return this._listening||(this._eventpile.map((function(t){return t.target.addEventListener(t.type,t.callback)})),this._listening=!0),this},t.prototype.stop=function(){return this._listening&&(this._eventpile.map((function(t){return t.target.removeEventListener(t.type,t.callback)})),this._listening=!1),this},t.prototype.clear=function(){return this.stop(),this._eventpile=[],this},t}();e.EventBuffer=n},834:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Listener=e.ListenerCallback=e.ListenerEvent=void 0;var n=function(){function t(t,e,n){this.type=t,this.data=e,this.target=n,this._stopped=!1}return Object.defineProperty(t.prototype,"stopped",{get:function(){return this._stopped},enumerable:!1,configurable:!0}),t.prototype.stop=function(){this._stopped=!0},t}();e.ListenerEvent=n;var r=function(t,e,n){this.type=t,this.callback=e,this.once=n};e.ListenerCallback=r;var o=function(){function t(t){this._target=t,this._callbacks=new Map}return t.prototype._on=function(t,e,n,o,i){var s=this;return void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===i&&(i=!1),t instanceof Array?t.map((function(t){return s._on(t,e,n,o)})):i?this._callbacks.set(t,[new r(t,e,n)]):(this._callbacks.has(t)||this._callbacks.set(t,[]),this._callbacks.get(t)[o?"unshift":"push"](new r(t,e,n))),this},t.prototype.has=function(t){return this._callbacks.has(t)},t.prototype.on=function(t,e,n){return void 0===n&&(n=!1),this._on(t,e,!1,n)},t.prototype.once=function(t,e,n){return void 0===n&&(n=!1),this._on(t,e,!0,n)},t.prototype.off=function(t,e){var n=this;if(t instanceof Array)t.map((function(t){return n.off(t,e)}));else if(this._callbacks.has(t)){var r=this._callbacks.get(t),o=r.findIndex((function(t){return t.callback===e}));o>-1&&(r.splice(o,1),r.length||this._callbacks.delete(t))}return this},t.prototype.flush=function(t,e,r){var o=[];if(this._callbacks.has(t)){var i=new n(t,e,r||this._target),s=this._callbacks.get(t),a=[];this._callbacks.set(t,a);for(var u=0;u<s.length;u++)if(o.push(s[u].callback(i)),s[u].once||a.push(s[u]),i.stopped){a.push.apply(a,s.slice(u+1));break}}return o},t.prototype.clear=function(t){var e=this;t instanceof Array?t.map((function(t){return e.clear(t)})):t?this._callbacks.has(t)&&this._callbacks.delete(t):Array.from(this._callbacks.keys()).map((function(t){return e._callbacks.delete(t)}))},t}();e.Listener=o},483:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;var n=function(){function t(){this._started=0,this._onUpdate=function(){},this._onStart=function(){},this._onStop=function(){}}var e;return t.addPlayer=function(t){var e=Date.now();this._rqid||(this._rqid=requestAnimationFrame(this._update),this._lastTime=e);var n=e-this._lastTime;t._update(e,n),this._players.push(t)},t.removePlayer=function(t){this._players.splice(this._players.findIndex((function(e){return t})),1),this._players.length||cancelAnimationFrame(this._rqid)},t.tween=function(t,n,r){void 0===r&&(r={}),Date.now();var o=function(t){return t};if("cos"in r)o=function(t){return t<.5?.5-.5*Math.pow(Math.cos(t*Math.PI),r.cos):.5+.5*Math.pow(Math.cos((1-t)*Math.PI),r.cos)};else if("quadratic"in r){var i=[0,r.quadratic,1];o=function(t){return Math.pow(1-t,2)*i[0]+2*(1-t)*t*i[1]+Math.pow(t,2)*i[2]}}else if("cubic"in r){var s=[0,r.cubic[0],r.cubic[1],1];o=function(t){return Math.pow(1-t,3)*s[0]+3*Math.pow(1-t,2)*t*s[1]+3*(1-t)*Math.pow(t,2)*s[2]+Math.pow(t,3)*s[3]}}return new Promise((function(r){(new e).onStop((function(t){return r(t)})).onUpdate((function(e){var r=Math.min(e.elapsed/n,1);t(o(r)),1===r&&e.stop()})).start()}))},t.prototype._update=function(t,e){this.date=t,this.ft=e,this.elapsed=t-this._started,this._onUpdate(this)},t.prototype.onUpdate=function(t){return this._onUpdate=t,this},t.prototype.onStart=function(t){return this._onStart=t,this},t.prototype.onStop=function(t){return this._onStop=t,this},t.prototype.start=function(){return this._started||(this._started=Date.now(),e.addPlayer(this),this._onStart(this)),this},t.prototype.stop=function(){return this._started&&(e.removePlayer(this),this._onStop(this),this._started=0),this},e=t,t._players=[],t._rqid=0,t._lastTime=0,t._update=function(){e._rqid=requestAnimationFrame(e._update);var t=Date.now(),n=t-e._lastTime;e._lastTime=t,e._players.forEach((function(e){return e._update(t,n)}))},t}();e.Player=n}},e={},n=function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}(156);_dom=n})();
(function(){var __dom = _dom.default;Object.keys(_dom).filter(k => k !== "default").forEach(k => {__dom[k] = _dom[k];});_dom = __dom;})();